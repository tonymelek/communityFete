{"version":3,"sources":["utils/AppContext.js","utils/API.js","components/Notifier.js","components/common/Splash.js","components/Login.js","components/AdminUsers.js","components/AdminMerchants.js","components/common/Header.js","components/common/SideMenu.js","components/AdminDashboard.js","pages/Admin.js","components/user/UserDashboard.js","components/user/UserFooter.js","components/user/UsersMenu.js","components/common/Loading.js","pages/User.js","pages/NotFound.js","components/Merchant/CreateMeuItem.js","components/Merchant/ManageOrders.js","components/Merchant/GetItems.js","components/Merchant/MerchantFooter.js","components/Merchant/MerchantDashboard.js","pages/Merchant.js","components/checkout/ResviseItems.js","components/common/UserHeader.js","pages/Checkout.js","components/MyOrders.js","pages/OrderTacker.js","App.js","registerServiceWorker.js","index.js"],"names":["createContext","API","getUsers","token","axios","method","url","headers","authorization","concat","login","email","password","data","current","value","signup","updateBalanceRole","updateObj","getShops","getMenu","getMenu_user","createNewShop","createMenuItem","deleteMenuItem","getThisUser","processPayment","getActiveOrders","getUserActiveOrders","getMerchantsPerShop","getAdminStats","Notifier","display","useContext","AppContext","state","react_default","a","createElement","className","color","class","text","Splash","src","alt","href","Login","useRef","history","useHistory","dispatch","_useState","useState","_useState2","Object","slicedToArray","splash","setSplash","useEffect","setTimeout","Splash_Splash","Notifier_Notifier","Fragment","htmlFor","type","name","id","ref","autoComplete","placeholder","onClick","e","preventDefault","then","res","balance","role","localStorage","setItem","push","catch","err","response","handleLogin","handleSignup","AdminUsers","users","setUsers","_useState3","_useState4","shops","setShops","_useState5","_useState6","searchText","setSearchText","_useContext","toBeUpdated","replace","update","attr","toUpdate","filter","user","target","parseInt","ShopId","onChange","filtered","toLowerCase","includes","trim","map","key","defaultValue","shop","selected","handleUpdate","AdminMerchants","categories","sort","category","newshop","setNewshop","objectSpread","i","length","item","Header","_ref","sideDisplay","side","setSide","index_esm","fa_index_esm","user_email","SideMenu","items","split","join","AdminDashboard","stats","setStats","spend","totalSpend","total","bestShop","bestShopName","Shop","bestShopCount","count","bestShopTotal","highestSpender","highestSpenderEmail","User","highestSpenderTotal","console","log","JSON","stringify","numberOfUsers","numberOfMerchants","numberOfOrders","Admin","tempToken","getItem","warn","SideMenu_SideMenu","UserDashboard","_step","orders","menu","activeOrders","order","order_status","_iterator","_createForOfIteratorHelper","parse","order_items","flat","s","n","done","qty","f","best","max","find","item_name","reduce","b","order_total","UserFooter","basket","setTotal","tempTotal","price","orderTotal","keys","fc_index_esm","ai_index_esm","UsersMenu","setMenu","expandShrink","updatedBasket","search","setSearch","setCategories","expand","toConsumableArray","Set","element","changeQty","action","tempItem","onSubmit","handleSearch","arguments","undefined","getItemsForCategory","serve","item_desc","unit","addToBasket","item_pic","width","handleTransfer","Loading","loading","myOrders","setMyOrders","stopExec","_useState7","_useState8","setLoading","socket","socketIOClient","emit","on","disconnect","Loading_Loading","NotFound","CreateMenuItem","values","newItem","setNewItem","create_appear","setCreate_appear","createNewMenuItem","ManageOrders","oldOrders","updateOrderStatus","order_id","status","orderItem","index","menuItem","GetItems","meal","availability","item_id","deleteItem","height","MerchantFooter","setShop","setActiveOrders","MerchantFooter_createForOfIteratorHelper","cg_index_esm","MerchantDashboard","merchants","setMerchants","MerchantDashboard_createForOfIteratorHelper","merchantsCount","Merchant","setOldOrders","CreateMeuItem_CreateMenuItem","MerchantDashboard_MerchantDashboard","ResviseItems","props","setBasket","setOrder","subTotal","setSubTotal","t_basket","t_order","t_subTotal","temp","handleDelete","handleSetOrders","UserHeader","Checkout","MyOrders","OrderTracker","App","_useReducer","useReducer","refreshAPI","_useReducer2","Provider","react_router_dom","react_router","path","exact","Admin_Admin","User_User","Checkout_Checkout","Merchant_Merchant","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.d755a130.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport default createContext();","import axios from 'axios'\r\n\r\n\r\nexport default {\r\n    getUsers(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/users',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    login(email, password) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/login',\r\n            data: {\r\n                email: email.current.value, password: password.current.value\r\n            }\r\n        })\r\n    },\r\n    signup(email, password) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/signup',\r\n            data: {\r\n                email: email.current.value, password: password.current.value\r\n            }\r\n        })\r\n    },\r\n    updateBalanceRole(updateObj, token) {\r\n        return axios({\r\n            method: 'put',\r\n            url: '/api/updateBalanceRole',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n    getShops() {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/allshops'\r\n\r\n        })\r\n    },\r\n    getMenu(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/allmenu',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    getMenu_user() {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/allmenu-users',\r\n        })\r\n    },\r\n    createNewShop(updateObj, token) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/create-shop',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n    createMenuItem(updateObj, token) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/create-menu-item',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n\r\n    deleteMenuItem(updateObj, token) {\r\n        return axios({\r\n            method: 'delete',\r\n            url: '/api/delete-menu-item',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n\r\n\r\n    getThisUser(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/get-this',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    processPayment(updateObj, token) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/processpayment',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n    getActiveOrders(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/activeorders',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    getUserActiveOrders(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/myactiveorders',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    getMerchantsPerShop(email) {\r\n        return axios({\r\n            method: 'get',\r\n            url: `/api/merchants/${email}`\r\n        })\r\n    },\r\n    getAdminStats(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/admin-stats',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n}","import React, { useContext } from 'react'\r\nimport AppContext from '../utils/AppContext';\r\nimport './Notifier.css'\r\nexport default function Notifier() {\r\n    const { state } = useContext(AppContext);\r\n    const display = state.display\r\n    return (\r\n        <div className={`notification animate__animated animate__bounceInDown  ${display.color} ${display.class}`}>\r\n            <p className=\"p-3\">{display.text}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport './Splash.css'\r\nexport default function Splash() {\r\n    return (\r\n        <div className=\"splash__main text-center animate__animated animate__zoomIn  d-flex flex-column justify-content-between\">\r\n            <div>\r\n                <h1 className=\" mt-4\">Welcome</h1>\r\n                <h5 className=\" my-1\">to</h5>\r\n                <img className=\"d-block mx-auto\" src=\"./imgs/logo.png\" alt=\"logo\" />\r\n                <h3 className=\" my-1\">Community Fete</h3>\r\n                <h1>2021</h1>\r\n            </div>\r\n            <div className=\"fete___photo__container\">\r\n                <img src=\"./imgs/fete.png\" alt=\"fete\" className=\"fete__photo\" />\r\n\r\n            </div>\r\n            <p>&copy; Copyright 2021 , Developed by <a href=\"mailto:tonymelek.au@gmail.com\" className=\"text-purple\">Tony Melek</a></p>\r\n        </div >\r\n    )\r\n}\r\n","import React, { useRef, useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './login.css'\r\nimport AppContext from '../utils/AppContext';\r\nimport API from '../utils/API';\r\nimport Notifier from './Notifier';\r\nimport Splash from './common/Splash';\r\nexport default function Login() {\r\n    const email = useRef('');\r\n    const password = useRef('');\r\n    const history = useHistory();\r\n    const { dispatch } = useContext(AppContext);\r\n    const [splash, setSplash] = useState(true)\r\n    const handleLogin = (e, email, password) => {\r\n        e.preventDefault()\r\n        API.login(email, password).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n            localStorage.setItem(\"conmmFete\", res.data.token)\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Logged-in Successfully' } })\r\n            history.push(`/${res.data.role}`)\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n\r\n            }, 2000);\r\n\r\n        })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response.data}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n            })\r\n    }\r\n    const handleSignup = (e, email, password) => {\r\n        e.preventDefault()\r\n        API.signup(email, password).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n            localStorage.setItem(\"conmmFete\", res.data.token)\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Signed-up Successfully' } })\r\n            history.push(`/${res.data.role}`)\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n\r\n            }, 2000);\r\n        })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response.data}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setSplash(false)\r\n        }, 3000)\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"container \">\r\n            {splash && <Splash />}\r\n            <div className=\"login__main\">\r\n\r\n\r\n\r\n                <Notifier />\r\n                {!splash && <>\r\n\r\n                    <div className=\"login card mx-auto p-3 mt-3\">\r\n                        <h3 className=\"text-center mt-3\">Login</h3>\r\n                        <form >\r\n\r\n                            <label htmlFor=\"login__email\">Email</label>\r\n                            <input type=\"email\" name=\"login__email\" id=\"login__email\" ref={email} autoComplete=\"email\" placeholder=\"your Email\" className=\"form-control\" />\r\n                            <label htmlFor=\"login__password\">Password</label>\r\n                            <input type=\"password\" name=\"login__password\" id=\"login__password\" autoComplete=\"current-password\" ref={password} className=\"form-control\" />\r\n\r\n                            <button type=\"submit\" className=\"btn btn-primary my-2 w-100\" onClick={e => handleLogin(e, email, password)}>Login</button>\r\n                            <p className=\"fst-italic\">If you do not have an account please Sign up first, You only need to enter your email and password</p>\r\n\r\n                        </form>\r\n                        <button type=\"submit\" className=\"btn btn-outline-primary my-2 w-100\" onClick={e => handleSignup(e, email, password)}>Sign Up</button>\r\n\r\n                    </div>\r\n                </>}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport API from '../utils/API'\r\nimport AppContext from '../utils/AppContext';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function AdminUsers() {\r\n    const history = useHistory();\r\n    const [users, setUsers] = useState([])\r\n    const [shops, setShops] = useState([])\r\n    const [searchText, setSearchText] = useState('')\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const toBeUpdated = {}\r\n\r\n    useEffect(() => {\r\n        if (state.role === \"\") {\r\n            return\r\n        }\r\n        if (state.role !== \"admin\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n\r\n        API.getUsers(state.token)\r\n            .then(res => setUsers(res.data))\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n\r\n        API.getShops()\r\n            .then(res => setShops(res.data))\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n\r\n    }, [state])\r\n    const update = (e, email, attr) => {\r\n        const toUpdate = users.filter(user => user.email === email)[0];\r\n\r\n        switch (attr) {\r\n            case \"role\":\r\n                toUpdate.role = e.target.value\r\n                break;\r\n            case \"balance\":\r\n                toUpdate.balance = parseInt(e.target.value)\r\n                break\r\n            case \"shop\":\r\n                toUpdate.ShopId = parseInt(e.target.value)\r\n                break\r\n            default:\r\n                break;\r\n        }\r\n        toBeUpdated[email] = toUpdate;\r\n    }\r\n    const handleUpdate = (e, email) => {\r\n        e.preventDefault();\r\n        if (!toBeUpdated[email]) {\r\n            return\r\n        }\r\n        toBeUpdated[email][\"role\"] === \"merchant\" ? toBeUpdated[email][\"balance\"] = 0 : toBeUpdated[email][\"ShopId\"] = null\r\n        API.updateBalanceRole(toBeUpdated[email], state.token)\r\n            .then(res => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'User Updated Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div className=\"w-75 mx-auto\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"admin__search_input\">Search Users</label>\r\n                        <input type=\"text\" autoComplete=\"off\" name=\"admin__search_input\" id=\"admin__search_input\" className=\"form-control mb-2\" onChange={(e) => setSearchText(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"d-flex flex-row flex-wrap justify-content-around\">\r\n                    {users.filter(filtered => filtered.email.toLowerCase().includes(searchText.trim().toLowerCase()))\r\n                        .map(user => <div key={user.email} className=\"admin__users  card m-2\">\r\n                            <div className=\"card-header\">\r\n                                <h5 className=\"text-center\"> {user.email}</h5>\r\n                            </div>\r\n                            <div className=\"card-body d-flex flex-wrap justify-content-between align-items-center\">\r\n                                <div className=\"form-group d-flex justify-content-between align-items-center px-2 my-1 flex-grow-1\">\r\n                                    <p className=\"px-2 m-0\">Role </p>\r\n                                    <select defaultValue={user.role} onChange={e => update(e, user.email, \"role\")}>\r\n                                        <option value=\"user\" >user</option>\r\n                                        <option value=\"merchant\" >merchant</option>\r\n                                    </select>\r\n                                </div>\r\n                                {user.role === \"merchant\" ?\r\n                                    <div className=\"form-group d-flex justify-content-between align-items-center p-2 my-2 flex-grow-1\">\r\n\r\n                                        <p className=\"px-2 m-0\">Shop </p>\r\n                                        <select onChange={e => update(e, user.email, \"shop\")}>\r\n                                            <option value=\"\"></option>\r\n                                            {shops.map(shop => <option key={`shop-${shop.id}`} value={shop.id} selected={user.ShopId === shop.id}>{shop.name}</option>)}\r\n                                        </select>\r\n                                    </div> : null}\r\n                                {user.role === \"user\" ?\r\n                                    <div className=\"d-flex flex-row justify-content-between align-items-center my-2 p-2 flex-grow-1\">\r\n                                        <p className=\"px-2 m-0\">Top up Balance</p>\r\n\r\n                                        <input type=\"number\" name=\"user__topup\" onChange={e => update(e, user.email, \"balance\")} className=\"admin__user__topup\" />\r\n\r\n                                    </div> : null}\r\n                                <button type=\"submit\" className=\"btn btn-warning w-100\" onClick={e => handleUpdate(e, user.email, user.balance)}>Update</button>\r\n                            </div>\r\n\r\n                        </div>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport API from '../utils/API'\r\nimport AppContext from '../utils/AppContext';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function AdminMerchants() {\r\n    const categories = [\"Hot Food\", \"Beverage\", \"Kids\", \"Deserts\"].sort()\r\n    const [shops, setShops] = useState([])\r\n    const [newshop, setNewshop] = useState({ name: '', category: categories[0] })\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        if (state.role === \"\") {\r\n            return\r\n        }\r\n        if (state.role !== \"admin\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n\r\n        API.getShops()\r\n            .then(res => setShops(res.data))\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n\r\n    }, [state])\r\n    const newShopCreator = () => {\r\n        if (newshop.name.trim().length < 2) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `Shop name can't be empty` } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n\r\n            return\r\n        }\r\n        API.createNewShop(newshop, state.token)\r\n            .then(res => {\r\n                setNewshop({ name: '', category: categories[0] })\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Shop created Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"w-100 mx-auto\">\r\n                <div className=\"card p-2\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"new__shop__name\">Shop Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"new__shop__name\" id=\"new__shop__name\" onChange={(e) => setNewshop({ ...newshop, name: e.target.value.trim() })} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"select__category\">Category</label>\r\n                        <select name=\"select__category\" defaultValue={categories[0]} id=\"select__category\" className=\"form-select\" onChange={(e) => setNewshop({ ...newshop, category: e.target.value })}>\r\n                            {categories.map((category, i) => <option key={`category-${i}`} value={category}>{category}</option>)}\r\n\r\n                        </select>\r\n                    </div>\r\n                    <button className=\"btn btn-primary my-3 \" type=\"submit\" onClick={newShopCreator}>Create Shop</button>\r\n                </div>\r\n            </div>\r\n            <h3 className=\"text-center my-3\">Shops List</h3>\r\n            <div className=\"card p-2 my-2\">\r\n                <ul className=\"d-flex flex-wrap list-unstyled\">\r\n                    {categories.map((category, i) => <><h5 className=\"w-100\" key={i}>{category}</h5>\r\n\r\n                        {shops.filter(item => item.category === category)\r\n                            .map(shop => <li key={`shops-${shop.id}`} className=\"px-2 m-2 d-inline-flex bg-danger border-success rounded text-light\">{shop.name}</li>\r\n                            )}\r\n                    </>)}\r\n                </ul>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { BiMenu } from 'react-icons/bi';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\n\r\nexport default function Header({ state, sideDisplay }) {\r\n    const { side, setSide } = sideDisplay\r\n    return (\r\n        <div className=\"header__main \">\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n                <BiMenu className=\"BiMenu\" onClick={() => setSide(side === 'd-none' ? 'd-block animate__animated animate__fadeInDown' : 'd-none')} />\r\n\r\n                <div className=\"d-flex align-items-center\">\r\n                    <FaUserCircle className=\"FaUserCircle\" />\r\n                    <p className=\"p-0 my-0 mx-2\"> {state.user_email} </p>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport './SideMenu.css'\r\nexport default function SideMenu({ side, items }) {\r\n    return (\r\n        <div className={`side__menu ${side.side}`}>\r\n            {items.map(item =>\r\n                <div key={item} className=\"side__menu__item py-2 px-5 m-2\">\r\n                    <a href={`#${item}`} onClick={() => side.setSide(side.side === 'd-none' ? 'd-block animate__animated animate__fadeInDown' : 'd-none')}>{item.split('-').join(' ')}</a>\r\n                </div>\r\n            )}\r\n\r\n        </div >\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport API from '../utils/API'\r\n\r\nexport default function AdminDashboard({ state }) {\r\n    const [stats, setStats] = useState({})\r\n    useEffect(() => {\r\n        API.getAdminStats(state.token)\r\n            .then(res => {\r\n                let stats = res.data\r\n                stats.spend = res.data.totalSpend[0].total\r\n                let bestShop = res.data.bestShop[0]\r\n                stats.bestShopName = bestShop.Shop.name\r\n                stats.bestShopCount = bestShop.count\r\n                stats.bestShopTotal = bestShop.total\r\n                let highestSpender = res.data.highestSpender[0]\r\n                stats.highestSpenderEmail = highestSpender.User.email\r\n                stats.highestSpenderTotal = highestSpender.total\r\n                console.log(stats);\r\n                setStats(stats)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [state])\r\n    return (\r\n        <div className=\"user__dashboard__main text-center\">\r\n            <h3 className=\"py-3\">Admin Dashboard</h3>\r\n            {JSON.stringify(stats)}\r\n            <div className=\"d-flex flex-wrap justify-content-around pt-4\">\r\n                <div className=\"d-flex  flex-wrap justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Users</h3>\r\n                        <h1 className=\"display-4  mt-4 text-danger\">{stats.numberOfUsers}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Merchants</h3>\r\n                        <h3 className=\"mt-4 text-primary\">{stats.numberOfMerchants}</h3>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Orders</h3>\r\n                        <h1 className=\"display-4  mt-4 text-primary\">{stats.numberOfOrders}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Revenue</h3>\r\n                        <h1 className=\"mt-4\">$<span className=\"display-4 text-danger\">{stats.spend}</span></h1>\r\n\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Best Selling Shop</h3>\r\n                        <h1 className=\"mt-4\">{stats.bestShopName}</h1>\r\n                        <h1 className=\"mt-4\">Orders#{stats.bestShopCount}</h1>\r\n                        <h1 className=\"mt-4\">Sales: $<span className=\"display-4 text-danger\">{stats.bestShopTotal}</span></h1>\r\n\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Highest Spending User</h3>\r\n                        <h1 className=\"mt-4\">{stats.highestSpenderEmail}</h1>\r\n                        <h1 className=\"mt-4\">$<span className=\"display-4 text-danger\">{stats.highestSpenderTotal}</span></h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport API from '../utils/API'\r\nimport AppContext from '../utils/AppContext';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './Admin.css'\r\nimport Notifier from '../components/Notifier';\r\nimport AdminUsers from '../components/AdminUsers';\r\nimport AdminMerchants from '../components/AdminMerchants';\r\nimport Header from '../components/common/Header';\r\nimport SideMenu from '../components/common/SideMenu';\r\nimport AdminDashboard from '../components/AdminDashboard';\r\nexport default function Admin() {\r\n\r\n    const [side, setSide] = useState('d-none')\r\n    const sideMenu = ['Dashboard', 'Manage-Shops', 'Manage-Users']\r\n    const history = useHistory();\r\n    const { dispatch, state } = useContext(AppContext);\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"container admin__main\">\r\n            <Notifier />\r\n\r\n\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Header state={state} sideDisplay={{ side, setSide }} />\r\n                <div className=\"flex__main__components\">\r\n                    <SideMenu side={{ side, setSide }} items={sideMenu} />\r\n                    <div className=\"admin__component mx-2 mb-10\" id=\"Dashboard\">\r\n                        <AdminDashboard state={state} />\r\n                    </div>\r\n                    <div className=\"admin__component mx-2 mb-10\" id=\"Manage-Shops\">\r\n                        <AdminMerchants />\r\n                    </div>\r\n                    <div className=\"admin__component mx-2 mb-10\" id=\"Manage-Users\">\r\n                        <AdminUsers />\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function UserDashboard({ orders, menu }) {\r\n    let activeOrders = orders.filter(order => order.order_status !== 'received')\r\n    let formatted_orders = orders.map(order => {\r\n        return JSON.parse(order.order_items)\r\n    }).flat();\r\n    let stats = {}\r\n    for (let order of formatted_orders) {\r\n        if (stats[order.id]) {\r\n            stats[order.id] += order.qty\r\n        } else {\r\n            stats[order.id] = order.qty\r\n        }\r\n    }\r\n    let max = 0\r\n    let best;\r\n    for (let key in stats) {\r\n        if (stats[key] > max) {\r\n            max = stats[key]\r\n            best = key\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"user__dashboard__main text-center\">\r\n            <h3 className=\"py-3\">User Dashboard</h3>\r\n\r\n            <div className=\"d-flex flex-wrap justify-content-around pt-4\">\r\n                <div className=\"d-flex flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Orders</h3>\r\n                        <h1 className=\"display-4  mt-4 text-danger\">{orders.length}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Favourite</h3>\r\n                        <h3 className=\"mt-4 text-primary\">{{ ...menu.find(item => parseInt(best) === item.id) }.item_name}</h3>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex  flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Active Orders</h3>\r\n                        <h1 className=\"display-4  mt-4 text-primary\">{activeOrders.length}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Spent</h3>\r\n                        <h1 className=\"mt-4\">$<span className=\"display-4 text-danger\">{orders.reduce((b, a) => b + a.order_total, 0)}</span></h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport AppContext from '../../utils/AppContext'\r\nimport { FaShoppingBasket } from 'react-icons/fa';\r\nimport { AiOutlineDollar } from 'react-icons/ai'\r\nimport { FcMoneyTransfer } from 'react-icons/fc'\r\n\r\nexport default function UserFooter() {\r\n    const { state, dispatch } = useContext(AppContext)\r\n    const basket = state.basket;\r\n    const [total, setTotal] = useState(0)\r\n\r\n    useEffect(() => {\r\n        let tempTotal = 0\r\n        for (let item in basket) {\r\n            tempTotal += basket[item].qty * basket[item].price\r\n        }\r\n        setTotal(tempTotal)\r\n    }, [state])\r\n    useEffect(() => {\r\n        dispatch({ type: 'update_orderTotal', orderTotal: total })\r\n    }, [total])\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"user__header2__main py-2\">\r\n            <div className=\"d-flex justify-content-around\">\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FaShoppingBasket className=\"AiOutlineDollar\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong>{Object.keys(state.basket).length} </strong> </p>\r\n\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FcMoneyTransfer className=\"AiOutlineDollar \" />\r\n                    <p className=\"p-0 my-0 mx-2\">Total:<strong>${total} </strong> </p>\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <AiOutlineDollar className=\"AiOutlineDollar\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong> $</strong> {state.balance}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { BiSearch } from 'react-icons/bi'\r\nimport API from '../../utils/API';\r\nimport AppContext from '../../utils/AppContext'\r\n\r\nexport default function UsersMenu({ history }) {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [menu, setMenu] = useState([])\r\n    const getItemsForCategory = (item = '') => [...new Set(menu.filter(element => element.item_name.toLowerCase().includes(item)).map(item => item.Shop.category))];\r\n    let expandShrink = ['d-none', 'd-block']\r\n    const updatedBasket = state.basket;\r\n    const [search, setSearch] = useState('')\r\n    const [categories, setCategories] = useState([])\r\n\r\n    useEffect(() => {\r\n        API.getMenu_user()\r\n            .then(res => {\r\n                setMenu(res.data.map(item => { return { ...item, expand: false, qty: 0 } }))\r\n                setCategories([...new Set(res.data.filter(element => element.item_name.toLowerCase()).map(item => item.Shop.category))]);\r\n            })\r\n            .catch(err => console.log(err.response))\r\n    }, [])\r\n\r\n\r\n    const addToBasket = (e, item) => {\r\n        const { id, item_name, price, ShopId } = item\r\n        let qty = parseInt(e.target.value);\r\n        setMenu(menu.map(item => item.id === id ? { ...item, qty: qty } : item))\r\n        if (qty > 0) {\r\n            updatedBasket[id] = { qty, item_name, price, ShopId }\r\n        } else {\r\n            setMenu(menu.map(item => item.id === id ? { ...item, qty: 0 } : item))\r\n            delete updatedBasket[id]\r\n        }\r\n        dispatch({ type: 'updateBasket', basket: updatedBasket })\r\n    }\r\n    const changeQty = (id, action) => {\r\n        setMenu(menu.map(item => {\r\n            if (item.id === id) {\r\n                let tempItem = { ...item, qty: action === \"+\" ? item.qty + 1 : item.qty - 1 }\r\n                if (tempItem.qty > 0) {\r\n                    updatedBasket[id] = { qty: tempItem.qty, item_name: tempItem.item_name, price: tempItem.price, ShopId: tempItem.ShopId }\r\n                    return tempItem\r\n                } else {\r\n                    tempItem = { ...item, qty: 0 }\r\n                    delete updatedBasket[id]\r\n                    return tempItem\r\n                }\r\n\r\n            }\r\n            else {\r\n                return item\r\n            }\r\n\r\n        }))\r\n\r\n        dispatch({ type: 'updateBasket', basket: updatedBasket })\r\n    }\r\n\r\n\r\n    const handleTransfer = (e) => {\r\n        e.preventDefault();\r\n        if (Object.keys(state.basket).length === 0) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `You need to have at least one item in basket to proceed` } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n            return\r\n        }\r\n        history.push('/checkout')\r\n    }\r\n    const handleSearch = e => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <div className=\"user__menu__main px-4 \">\r\n\r\n            <form autoComplete=\"off\" onSubmit={e => handleSearch(e)} >\r\n                <div className=\"form-group my-2 pt-3 d-flex align-items-end\" >\r\n                    <div className=\"flex-grow-1  mx-2\" >\r\n                        <label htmlFor=\"search-item\">Filter Items</label>\r\n                        <input type=\"text\" name=\"search-item\" value={search} id=\"search-item\" className=\"form-control\" onChange={(e) => {\r\n                            setSearch(e.target.value.trim().toLowerCase())\r\n                            setCategories(getItemsForCategory(e.target.value))\r\n\r\n                        }} />\r\n                    </div>\r\n                    <button className=\"btn btn-primary mx-2\" type=\"submit\"><BiSearch /></button>\r\n                </div>\r\n            </form>\r\n            <hr />\r\n            <div className=\"d-flex flex-column justify-content-between\">\r\n                <div className=\"user__menu__items\" >\r\n\r\n                    {categories.map(category => <div key={category}>\r\n                        <div className={`card  bg-dark my-2 p-2   text-light cursor-pointer`} onClick={() => {\r\n                            setMenu(menu.map(item => item.Shop.category === category ? { ...item, expand: !item.expand } : item))\r\n\r\n                        }} ><h5>{category}</h5></div>\r\n\r\n                        {menu.filter(element => element.item_name.toLowerCase().includes(search)).filter(items => items.Shop.category === category).map(item => <div key={item.id} className={`card  my-2 p-2 d-flex flex-row flex-wap justify-content-between animate__animated   animate__zoomIn ${expandShrink[item.expand ? 1 : 0]}`}>\r\n\r\n                            <div>\r\n                                <p className=\"my-1\"><strong>{item.item_name}</strong>-{item.serve}</p>\r\n                                <p className=\"my-1\">{item.item_desc}</p>\r\n                                <p className=\"my-2\">({item.unit}) ${item.price}</p>\r\n                                <div className=\"d-flex\">\r\n                                    <button className=\"btn btn-dark\" onClick={() => changeQty(item.id, \"-\")}>&#60;</button>\r\n                                    <input type=\"number\" value={item.qty} onChange={e => addToBasket(e, item)} className=\"form-control mx-2 input__qty\" />\r\n                                    <button className=\"btn btn-dark\" onClick={() => changeQty(item.id, \"+\")}>&#62;</button>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <img src={item.item_pic} width=\"100\" alt={item.item_name} />\r\n                            </div>\r\n                        </div>)}\r\n                    </div>)}\r\n                </div>\r\n\r\n                <div>\r\n                    <button type=\"submit\" onClick={e => handleTransfer(e)} className=\"btn btn-success w-100 mb-3\">Check out</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport './Loading.css'\r\nexport default function Loading({ loading }) {\r\n\r\n\r\n    return (\r\n        <div className=\"loading__main\">\r\n            {loading &&\r\n                <img src=\"./imgs/loading.gif\" alt=\"loading\" />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Header from '../components/common/Header';\r\nimport SideMenu from '../components/common/SideMenu';\r\nimport UserDashboard from '../components/user/UserDashboard';\r\nimport UserFooter from '../components/user/UserFooter';\r\nimport UsersMenu from '../components/user/UsersMenu'\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\nimport './User.css'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Notifier from '../components/Notifier';\r\nimport Loading from '../components/common/Loading';\r\n\r\n\r\nexport default function User() {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [myOrders, setMyOrders] = useState([])\r\n    const [menu, setMenu] = useState([])\r\n    let stopExec = false\r\n    const history = useHistory();\r\n    const [side, setSide] = useState('d-none')\r\n    const sideMenu = ['Dashboard', \"Order-now\"]\r\n    const [loading, setLoading] = useState(true)\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (state.user_email === \"\" || stopExec) {\r\n            return\r\n        }\r\n        if (state.role !== \"\" && state.role !== \"user\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n        stopExec = true\r\n        const socket = socketIOClient();\r\n        API.getMenu_user()\r\n            .then(res => {\r\n                setMenu(res.data.map(item => { return { ...item, expand: false, qty: 0 } }))\r\n\r\n            })\r\n            .catch(err => console.log(err.response))\r\n\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('userOrders', data => {\r\n            setMyOrders(data)\r\n            setLoading(false)\r\n        })\r\n\r\n        socket.on('activeOrders', data => {\r\n            setMyOrders(data)\r\n        })\r\n        socket.emit('newOrder', myOrders)\r\n        return () => {\r\n            socket.disconnect()\r\n        }\r\n    }, [state])\r\n\r\n    return (\r\n        <div className=\"container user__main\">\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Notifier />\r\n                <Loading loading={loading} />\r\n                <Header state={state} sideDisplay={{ side, setSide }} />\r\n\r\n                <div className={`flex__main__components ${loading ? 'hazy' : ''}`}>\r\n                    <SideMenu side={{ side, setSide }} items={sideMenu} />\r\n                    <div className=\"pt-4 user__dashboard\" id=\"Dashboard\">\r\n                        <UserDashboard orders={myOrders} menu={menu} />\r\n                    </div>\r\n                    <div id=\"Order-now\" className=\"pt-2\">\r\n                        <UsersMenu history={history} />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <UserFooter />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <div>\r\n            <h1 className=\"text-center\">Page is not found or you not allowed to view this page</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useState, useContext } from 'react'\r\nimport API from '../../utils/API';\r\nimport AppContext from '../../utils/AppContext';\r\n\r\nimport './CreateMenuItem.css'\r\n\r\nexport default function CreateMenuItem({ values }) {\r\n\r\n    const [newItem, setNewItem] = useState({ item_name: '', item_desc: '', item_pic: '', unit: 'each', serve: 'sandwitch', price: 0 })\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const createNewMenuItem = (e, updateObj) => {\r\n        e.preventDefault();\r\n        const { item_name, item_desc, item_pic, unit, serve, price } = updateObj\r\n        if (item_name.length < 2 || item_desc.length < 2 || item_pic.length < 2 || price <= 0) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `All Fields are Mandatory, please fill and re-submit` } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n            return\r\n        }\r\n        API.createMenuItem(updateObj, state.token)\r\n            .then(res => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Item created Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `Error creating new Item` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n    }\r\n    return (\r\n        <div className={`create__menu__item ${values.create_appear}`}>\r\n\r\n            <div className=\"card m-3 create__menu__item__card\">\r\n                <div className=\"card-header\">\r\n                    <p onClick={() => { values.setCreate_appear('d-none') }} className=\"text-right\">X</p>\r\n                    <h4 className=\"text-center\">Create New Menu Item</h4>\r\n                </div>\r\n                <div className=\"form-group m-2\">\r\n                    <label htmlFor=\"create_menu_name\">Item Name</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"create_menu_name\" id=\"create_menu_name\" onChange={(e) => setNewItem({ ...newItem, item_name: e.target.value.trim() })} />\r\n                </div>\r\n                <div className=\"form-group m-2\">\r\n                    <label htmlFor=\"create_menu_desc\">Item Description</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"create_menu_desc\" id=\"create_menu_desc\" onChange={(e) => setNewItem({ ...newItem, item_desc: e.target.value.trim() })} />\r\n                </div>\r\n                <div className=\"form-group m-2\">\r\n                    <label htmlFor=\"create_menu_pic\">Item Picture</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"create_menu_pic\" id=\"create_menu_pic\" onChange={(e) => setNewItem({ ...newItem, item_pic: `https://drive.google.com/uc?export=view&id=${e.target.value.trim()}` })} />\r\n                </div>\r\n                <div className=\"form-group m-2\">\r\n                    <label htmlFor=\"\">Unit</label>\r\n                    <select defaultValue=\"each\" className=\"form-select\" name=\"create_menu_unit\" id=\"create_menu_unit\" onChange={(e) => setNewItem({ ...newItem, unit: e.target.value })}>\r\n                        <option value=\"each\">each</option>\r\n                        <option value=\"100g\">100g</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group m-2\">\r\n                    <label htmlFor=\"create_menu_serve\">Serve</label>\r\n                    <select className=\"form-select\" name=\"create_menu_serve\" id=\"create_menu_serve\" onChange={(e) => setNewItem({ ...newItem, serve: e.target.value })}>\r\n                        <option value=\"sandwitch\">sandwitch</option>\r\n                        <option value=\"cup\">cup</option>\r\n                        <option value=\"box\">box</option>\r\n                        <option value=\"ticket\">ticket</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group m-2\">\r\n                    <label htmlFor=\"create_menu_price\">Price</label>\r\n                    <input type=\"number\" className=\"form-control\" name=\"create_menu_price\" id=\"create_menu_price\" onChange={(e) => setNewItem({ ...newItem, price: e.target.value })} />\r\n                </div>\r\n                <button className=\"btn btn-primary m-2\" type=\"submit\" onClick={e => createNewMenuItem(e, newItem)}>Create Item</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nexport default function ManageOrders({ values }) {\r\n\r\n\r\n    const { oldOrders, menu } = values\r\n\r\n\r\n\r\n    const updateOrderStatus = (e, order_id, status) => {\r\n        e.preventDefault();\r\n        const socket = socketIOClient();\r\n        socket.emit('updateOrderStatus', {\r\n            id: order_id,\r\n            status\r\n        })\r\n\r\n\r\n    }\r\n    return (\r\n        <div className=\"merchant__manage__orders__main\">\r\n            <h3 className=\"text-center py-3\">Manage Orders</h3>\r\n            <div className=\"d-flex flex-wrap justify-content-around\">\r\n                {oldOrders.filter(order => order.order_status !== \"received\").length === 0 ? <h2 className=\"text-danger\">No active Orders</h2> : <>\r\n                    {\r\n                        oldOrders.filter(order => order.order_status !== \"received\").map(item => <div key={item.id} className=\"card m-3  merchant__orders my-2 \">\r\n                            <div className=\"card-header\">\r\n                                <h5 className=\"text-center\"><span className=\"text-primary\">Order # {item.id} </span>- {item.User.email}</h5>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <div className=\"d-flex justify-content-between\">\r\n\r\n                                    <div>{JSON.parse(item.order_items)\r\n                                        .map((orderItem, index) => <div key={`orderItem-${index}`}>\r\n                                            <p>{{ ...menu.find(menuItem => parseInt(menuItem.id) === parseInt(orderItem.id)) }.item_name}x{orderItem.qty}</p>\r\n                                        </div>)\r\n                                    }\r\n                                    </div>\r\n                                    <div>\r\n                                        <li className={`${item.order_status === 'paid' ? 'text-danger' : 'text-success'} merchant__order__status`}><strong>{item.order_status}</strong></li>\r\n                                    </div>\r\n                                </div>\r\n                                {item.order_status === 'paid' &&\r\n                                    <button className=\"btn btn-warning d-block w-100 my-2\" onClick={e => updateOrderStatus(e, item.id, \"ready\")}>Ready</button>}\r\n                                {item.order_status === 'ready' &&\r\n                                    <button className=\"btn btn-success d-block w-100 my-2\" onClick={e => updateOrderStatus(e, item.id, \"received\")}>Collected</button>}\r\n\r\n                            </div>\r\n                        </div>)\r\n                    } </>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport API from '../../utils/API'\r\nimport AppContext from '../../utils/AppContext'\r\n\r\n\r\nexport default function GetItems() {\r\n    const [menu, setMenu] = useState([])\r\n    const { dispatch, state } = useContext(AppContext)\r\n    useEffect(() => {\r\n        if (state.token !== \"\") {\r\n            API.getMenu(state.token)\r\n                .then(res => {\r\n                    setMenu(res.data)\r\n                })\r\n                .catch(err => console.log(err.response))\r\n        }\r\n    }, [state])\r\n    //Build Delete Functionality to set Item as not available in the menu\r\n    const deleteItem = (e, id) => {\r\n        e.preventDefault();\r\n        API.deleteMenuItem({ item_id: id }, state.token)\r\n            .then(res => {\r\n                setMenu(menu.map(item => {\r\n                    if (item.id === id) {\r\n                        item.availability = false\r\n                    }\r\n                    return item\r\n                }))\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Item deleted Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `Error deleting Item` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n                console.log(err.response.data);\r\n            })\r\n    }\r\n    return (\r\n        <div className=\"mb-10 merchant__menu__main\">\r\n            <h3 className=\"text-center py-3\">Menu Items</h3>\r\n            {menu.filter(meal => meal.availability).map(item => <div key={item.id} className=\"card m-2 p-2 d-flex flex-row flex-wap justify-content-between\">\r\n                <div>\r\n                    <p><strong>{item.item_name}</strong> - {item.item_desc}</p>\r\n                    <p>{item.unit}-{item.serve}-${item.price}</p>\r\n                    <button onClick={e => deleteItem(e, item.id)} className=\"btn btn-danger\" type=\"submit\">Delete Item</button>\r\n                </div>\r\n                <div>\r\n                    <img src={item.item_pic} height=\"80\" alt={item.item_name} />\r\n                </div>\r\n            </div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport { FcShop } from 'react-icons/fc';\r\nimport { CgTimer } from 'react-icons/cg'\r\nimport { AiOutlineDollar } from 'react-icons/ai'\r\nexport default function MerchantFooter({ orders }) {\r\n    const [shop, setShop] = useState({})\r\n    const [activeOrders, setActiveOrders] = useState(0)\r\n    useEffect(() => {\r\n        for (let order of orders) {\r\n            setShop(order.Shop)\r\n            break;\r\n        }\r\n        setActiveOrders(orders.filter(order => order.order_status !== 'received').length)\r\n    }, [orders])\r\n\r\n\r\n    return (\r\n        <div className=\"merchant__footer__main py-2\">\r\n            {/* <div className=\"d-flex justify-content-between align-items-center\">\r\n               \r\n            </div> */}\r\n            <div className=\"d-flex justify-content-around\">\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FcShop className=\"FcShop\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong> {shop.name}</strong> </p>\r\n\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <CgTimer className=\"GrDocumentTime \" />\r\n                    <p className=\"p-0 my-0 mx-2\">Active : <strong> {activeOrders}</strong> </p>\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <AiOutlineDollar className=\"AiOutlineDollar\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong> ${shop.balance}</strong> </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport API from '../../utils/API';\r\nimport './MerchantDashboard.css'\r\nexport default function MerchantDashboard({ orders, menu, state }) {\r\n    const [merchants, setMerchants] = useState(0)\r\n    let formatted_orders = orders.map(order => {\r\n        return JSON.parse(order.order_items)\r\n    }).flat();\r\n    let stats = {}\r\n    for (let order of formatted_orders) {\r\n        if (stats[order.id]) {\r\n            stats[order.id] += order.qty\r\n        } else {\r\n            stats[order.id] = order.qty\r\n        }\r\n    }\r\n\r\n    let max = 0\r\n    let best;\r\n    for (let key in stats) {\r\n        if (stats[key] > max) {\r\n            max = stats[key]\r\n            best = key\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (state.user_email === \"\") {\r\n            return\r\n        }\r\n        API.getMerchantsPerShop(state.user_email)\r\n            .then(res => {\r\n                setMerchants(res.data.merchantsCount)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [state])\r\n\r\n\r\n    return (\r\n        <div className=\"merchant__dasboard__main text-center\">\r\n            <h3 className=\"text-center py-3\">Merchant Dashboard</h3>\r\n\r\n            <div className=\"d-flex flex-wrap justify-content-around pt-4\">\r\n                <div className=\"d-flex flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Orders</h3>\r\n                        <h1 className=\"display-1 mt-4 text-danger\">{orders.length}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Best Seller</h3>\r\n                        <h2 className=\"mt-3\">{{ ...menu.find(item => parseInt(best) === item.id) }.item_name}</h2>\r\n                        <h5>Sold: {max}</h5>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex  flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Menu Items</h3>\r\n                        <h1 className=\"display-1 mt-4 text-primary\">{menu.filter(item => item.availability).length}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Merchants</h3>\r\n                        <h1 className=\"display-1 mt-4 text-danger\">{merchants}</h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Notifier from '../components/Notifier';\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\nimport './Merchant.css'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport CreateMenuItem from '../components/Merchant/CreateMeuItem';\r\nimport Header from '../components/common/Header';\r\nimport ManageOrders from '../components/Merchant/ManageOrders';\r\nimport GetItems from '../components/Merchant/GetItems';\r\nimport MerchantFooter from '../components/Merchant/MerchantFooter';\r\nimport SideMenu from '../components/common/SideMenu';\r\nimport MerchantDashboard from '../components/Merchant/MerchantDashboard';\r\n\r\nexport default function Merchant() {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [create_appear, setCreate_appear] = useState('d-none')\r\n    const [side, setSide] = useState('d-none')\r\n    const sideMenu = ['Dashboard', 'Manage-Orders', 'Update-Menu']\r\n    const history = useHistory();\r\n    const [menu, setMenu] = useState([])\r\n    const [oldOrders, setOldOrders] = useState([])\r\n    let stopExec = false\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n    useEffect(() => {\r\n        if (state.role !== \"\" && state.role !== \"merchant\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n        if (state.token === \"\" || stopExec) {\r\n            return\r\n        }\r\n        stopExec = true\r\n        const socket = socketIOClient();\r\n        API.getMenu(state.token)\r\n            .then(res => {\r\n                setMenu(res.data)\r\n            })\r\n            .catch(err => console.log(err.response))\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('shopConnection', data => {\r\n            console.log(data);\r\n        })\r\n        socket.on('oldOrders', data => {\r\n            setOldOrders(data)\r\n        })\r\n\r\n        return () => socket.disconnect();\r\n    }, [state])\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container merchant__main\">\r\n            <Notifier />\r\n\r\n            <CreateMenuItem values={{ create_appear, setCreate_appear }} />\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n\r\n                <Header state={state} sideDisplay={{ side, setSide }} />\r\n\r\n                <div className=\"flex__main__components\">\r\n                    <SideMenu side={{ side, setSide }} items={sideMenu} />\r\n                    <div className=\" mx-2 merchant__section mb-10\" id=\"Dashboard\">\r\n\r\n                        <MerchantDashboard orders={oldOrders} menu={menu} state={state} />\r\n\r\n                    </div>\r\n                    <div className=\" mx-2 merchant__section mb-10\" id=\"Manage-Orders\">\r\n\r\n                        <ManageOrders values={{ oldOrders, menu }} />\r\n\r\n                    </div>\r\n\r\n                    <div className=\" merchant__section mb-10\" id=\"Update-Menu\">\r\n                        <button onClick={() => setCreate_appear('d-block animate__animated animate__zoomIn ')} className=\"btn btn-outline-danger create__new__item__button cursor-pointer\">Create New Menu Item </button>\r\n\r\n                        <GetItems />\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <MerchantFooter orders={oldOrders} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport API from '../../utils/API';\r\nimport './ReviseItems.css'\r\n\r\n\r\nexport default function ResviseItems({ props }) {\r\n    const { state, dispatch, history, socketIOClient } = props\r\n    const [basket, setBasket] = useState([]);\r\n    const [order, setOrder] = useState({});\r\n    const [subTotal, setSubTotal] = useState({});\r\n    const t_basket = [];\r\n    const t_order = {}\r\n    const t_subTotal = {}\r\n    useEffect(() => {\r\n        for (let item in state.basket) {\r\n            state.basket[item][\"id\"] = item\r\n            t_basket.push(state.basket[item])\r\n            let tempItem = { ...state.basket[item] }\r\n            if (t_order[tempItem.ShopId]) {\r\n                t_order[tempItem.ShopId].push({ id: tempItem.id, qty: tempItem.qty })\r\n                t_subTotal[tempItem.ShopId] += tempItem.qty * tempItem.price\r\n            } else {\r\n                t_order[tempItem.ShopId] = [{ id: tempItem.id, qty: tempItem.qty }]\r\n                t_subTotal[tempItem.ShopId] = tempItem.qty * tempItem.price\r\n            }\r\n        }\r\n        setBasket(t_basket)\r\n        setOrder(t_order)\r\n        setSubTotal(t_subTotal)\r\n    }, [state])\r\n\r\n\r\n\r\n\r\n    const handleSetOrders = (e) => {\r\n        e.preventDefault();\r\n        if (state.orderTotal === 0) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: 'Total should not be zero, you will be redirected to main page' } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n            return history.replace('/user')\r\n        }\r\n        const socket = socketIOClient()\r\n        if (state.balance >= state.orderTotal) {\r\n            //call api to store transaction , update user balance , create orders in the database\r\n            API.processPayment({ orders: JSON.stringify(order), subTotal, total: state.orderTotal }, state.token)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    socket.emit('newOrder', res.data)\r\n                    socket.disconnect();\r\n                })\r\n                .catch(err => console.log(err.response))\r\n\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Order Processed Successfully' } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                history.replace('/order-tracker')\r\n            }, 2000);\r\n        } else {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: 'Your Balance is insufficient' } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n        }\r\n\r\n    }\r\n    const handleDelete = (e, id) => {\r\n        e.preventDefault();\r\n        let temp = state.basket;\r\n        delete temp[id]\r\n        dispatch({ type: 'updateBasket', basket: temp })\r\n\r\n    }\r\n    return (\r\n        <div className=\"revise__items__main d-flex flex-column justify-content-between\">\r\n            <div className=\"resvise__items__list\">\r\n                <h2>Items in Basket</h2>\r\n                {basket.map(item => <div key={item.id} className=\"card d-flex flex-row justify-content-between align-items-center p-2 m-1\">\r\n                    <p className=\"revised-item-width p-0 m-0\"><strong>{item.item_name}</strong> x {item.qty}</p>\r\n\r\n                    <p className=\"p-0 m-0\"><strong>$</strong>{item.qty * item.price} </p>\r\n                    <button className=\"btn btn-danger\" onClick={(e) => handleDelete(e, item.id)} type=\"submit\">Remove</button>\r\n\r\n                </div>)}\r\n\r\n            </div>\r\n            <div className=\"checkout__button\">\r\n                <p className=\"text-danger \"> **You may go back to edit quantities if required</p>\r\n                <button className=\"btn btn-success w-100\" type=\"submit\" onClick={e => handleSetOrders(e)}>Pay Now &nbsp;&nbsp;&nbsp;&nbsp;${state.orderTotal}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { FaUserCircle } from 'react-icons/fa';\r\n\r\nexport default function UserHeader({ state }) {\r\n    return (\r\n        <div className=\"header__main \">\r\n            <div className=\"d-flex justify-content-end header__flex__container\">\r\n                <div className=\"d-flex align-items-center\">\r\n                    <FaUserCircle className=\"FaUserCircle\" />\r\n                    <p className=\"p-0 my-0 mx-2\"> {state.user_email} </p>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport UserFooter from '../components/user/UserFooter';\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\nimport './Checkout.css'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport ResviseItems from '../components/checkout/ResviseItems';\r\nimport UserHeader from '../components/common/UserHeader';\r\nimport Notifier from '../components/Notifier';\r\n\r\nexport default function Checkout() {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [myOrders, setMyOrders] = useState([])\r\n    let stopExec = false\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (state.user_email === \"\" || stopExec) {\r\n            return\r\n        }\r\n        if (state.role !== \"\" && state.role !== \"user\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n        stopExec = true\r\n        const socket = socketIOClient();\r\n\r\n\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('userOrders', data => {\r\n            setMyOrders(data)\r\n        })\r\n\r\n        socket.on('activeOrders', data => {\r\n            setMyOrders(data)\r\n        })\r\n        socket.emit('newOrder', myOrders)\r\n        return () => {\r\n            socket.disconnect()\r\n        }\r\n    }, [state])\r\n\r\n    return (\r\n        <div className=\"container user__main\">\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Notifier />\r\n                <UserHeader state={state} />\r\n                <div className=\"flex__main__components\">\r\n                    <div className=\"pt-2 px-2 user__revise\">\r\n                        <ResviseItems props={{ state, dispatch, history, socketIOClient }} />\r\n\r\n                    </div>\r\n                    <div id=\"Order-now\" className=\"pt-4\">\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <UserFooter />\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport API from '../utils/API'\r\nimport AppContext from '../utils/AppContext'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Loading from './common/Loading'\r\nexport default function MyOrders() {\r\n    const [myOrders, setMyOrders] = useState([])\r\n    const [menu, setMenu] = useState([])\r\n    const { state } = useContext(AppContext)\r\n    const [loading, setLoading] = useState(true)\r\n    let stopExec = false\r\n\r\n    useEffect(() => {\r\n        if (state.user_email === \"\" || stopExec) {\r\n            return\r\n        }\r\n        stopExec = true;\r\n        const socket = socketIOClient();\r\n        API.getMenu_user()\r\n            .then(res => {\r\n                setMenu(res.data);\r\n            })\r\n            .catch(err => console.log(err.response))\r\n\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('userOrders', data => {\r\n            setMyOrders(data)\r\n            setLoading(false)\r\n        })\r\n\r\n        socket.on('activeOrders', data => {\r\n            setMyOrders(data)\r\n        })\r\n        socket.emit('newOrder', myOrders)\r\n        return () => {\r\n            socket.disconnect()\r\n        }\r\n    }, [state])\r\n\r\n\r\n    return (\r\n        <>\r\n            <Loading loading={loading} />\r\n            <div className={`${loading && 'hazy'}`}>\r\n\r\n                <h3 className=\"text-center py-3\">Track Active Orders</h3>\r\n                <div className=\"d-flex flex-wrap justify-content-center\">\r\n                    {myOrders.filter(order => order.order_status !== \"received\").map(order => <div key={order.id} className=\"card  myorder__items m-2 \">\r\n                        <div className=\"card-header bg-header\">\r\n                            <h4 className=\"text-center\">Order#<span className=\"text-danger\"> {order.id} </span>- Shop: <span className=\"text-primary\">{order.Shop.name}</span></h4>\r\n                        </div>\r\n                        <div className={`card-body d-flex  justify-content-between myorder__items  ${order.order_status === 'paid' ? 'bg-paid' : 'bg-ready'}`}>\r\n\r\n                            <div>{<div>\r\n                                <h5 className=\"m-1 p-0\">Items</h5>\r\n                                <ul className=\"p-1 list-unstyled\">\r\n                                    {JSON.parse(order.order_items)\r\n\r\n                                        .map((orderItem, index) => <div key={`orderItem-${index}`}>\r\n\r\n                                            <li ><>{{ ...menu.find(menuItem => parseInt(menuItem.id) === parseInt(orderItem.id)) }.item_name}x{orderItem.qty}</></li>\r\n                                        </div>)\r\n                                    }</ul>\r\n                            </div>}</div>\r\n                            <div>\r\n                                <h1>${order.order_total}</h1>\r\n                            </div>\r\n                        </div>\r\n                    </div>)}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useContext, useEffect } from 'react'\r\nimport MyOrders from '../components/MyOrders'\r\nimport Notifier from '../components/Notifier'\r\n\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\nimport UserFooter from '../components/user/UserFooter';\r\nimport UserHeader from '../components/common/UserHeader';\r\n\r\nexport default function OrderTracker() {\r\n    const history = useHistory()\r\n    const { dispatch, state } = useContext(AppContext);\r\n    useEffect(() => {\r\n\r\n\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n    return (\r\n        <div className=\"container user__main\">\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Notifier />\r\n                <UserHeader state={state} />\r\n                <div className=\"flex__main__components\">\r\n                    <div className=\"pt-2 px-2\">\r\n                        <MyOrders />\r\n\r\n                    </div>\r\n                    <div id=\"Order-now\" className=\"pt-4\">\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <UserFooter />\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n","import React, { useReducer } from \"react\";\nimport Login from \"./components/Login\";\nimport AppContext from \"./utils/AppContext\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Admin from \"./pages/Admin\";\nimport User from \"./pages/User\";\nimport NotFound from \"./pages/NotFound\";\nimport Merchant from \"./pages/Merchant\";\nimport Checkout from \"./pages/Checkout\";\nimport OrderTracker from \"./pages/OrderTacker\";\n\n\n\nexport default function App() {\n\n\n\n  const initialState = { token: '', user_email: '', basket: {}, role: '', orderTotal: 0, balance: 0, refreshAPI: true, display: { class: 'd-none', color: '', text: '' } };\n  const [state, dispatch] = useReducer((state, action) => {\n    switch (action.type) {\n      case \"update_token\":\n        return { ...state, token: action.token }\n      case \"update_balance\":\n        return { ...state, balance: action.balance }\n      case \"update_role\":\n        return { ...state, role: action.role }\n      case \"update_email\":\n        return { ...state, user_email: action.email }\n      case \"update_orderTotal\":\n        return { ...state, orderTotal: action.orderTotal }\n      case \"refreshAPI\":\n        return { ...state, refreshAPI: action.refreshAPI }\n      case \"updateBasket\":\n        return { ...state, basket: action.basket }\n      case \"notifier\":\n        return { ...state, display: action.display }\n      default:\n        return state;\n    }\n  }, initialState);\n  return (\n    <AppContext.Provider value={{ state, dispatch }}>\n      <div className=\"App\">\n        <BrowserRouter>\n          <Switch>\n            <Route path=\"/\" exact>\n              <Login />\n            </Route>\n            <Route path=\"/admin\" >\n              <Admin />\n            </Route>\n            <Route path=\"/user\" >\n              <User />\n            </Route>\n            <Route path=\"/checkout\">\n              <Checkout />\n            </Route>\n            <Route path=\"/order-tracker\">\n              <OrderTracker />\n            </Route>\n            <Route path=\"/merchant\" >\n              <Merchant />\n            </Route>\n\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      </div>\n    </AppContext.Provider>\n  );\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}