{"version":3,"sources":["utils/AppContext.js","utils/API.js","components/Notifier.js","components/common/Splash.js","components/Login.js","components/admin/AdminUsers.js","components/admin/AdminMerchants.js","components/common/Header.js","components/common/SideMenu.js","components/admin/AdminDashboard.js","components/admin/AdminFooter.js","pages/Admin.js","components/user/UserDashboard.js","components/user/UserFooter.js","components/user/UsersMenu.js","components/common/Loading.js","pages/User.js","pages/NotFound.js","components/Merchant/CreateMeuItem.js","components/Merchant/ManageOrders.js","components/Merchant/GetItems.js","components/Merchant/MerchantFooter.js","components/Merchant/MerchantDashboard.js","pages/Merchant.js","components/checkout/ResviseItems.js","components/common/UserHeader.js","pages/Checkout.js","components/MyOrders.js","pages/OrderTacker.js","App.js","registerServiceWorker.js","index.js"],"names":["createContext","API","getUsers","token","axios","method","url","headers","authorization","concat","login","email","password","data","current","value","signup","updateBalanceRole","updateObj","getShops","getMenu","getMenu_user","createNewShop","createMenuItem","deleteMenuItem","getThisUser","processPayment","getActiveOrders","getUserActiveOrders","getMerchantsPerShop","getAdminStats","getAdminFooter","Notifier","display","useContext","AppContext","state","react_default","a","createElement","className","color","class","text","Splash","src","alt","href","Login","useRef","history","useHistory","dispatch","_useState","useState","_useState2","Object","slicedToArray","splash","setSplash","useEffect","setTimeout","Splash_Splash","Notifier_Notifier","Fragment","htmlFor","type","name","id","ref","autoComplete","placeholder","onClick","e","preventDefault","then","res","balance","role","localStorage","setItem","push","catch","err","response","handleLogin","handleSignup","AdminUsers","users","setUsers","_useState3","_useState4","shops","setShops","_useState5","_useState6","searchText","setSearchText","_useContext","toBeUpdated","replace","update","attr","toUpdate","filter","user","target","parseInt","ShopId","onChange","filtered","toLowerCase","includes","trim","map","key","defaultValue","shop","selected","handleUpdate","AdminMerchants","categories","sort","category","newshop","setNewshop","objectSpread","i","length","item","Header","_ref","sideDisplay","side","setSide","index_esm","fa_index_esm","user_email","removeItem","ri_index_esm","SideMenu","items","split","join","AdminDashboard","stats","setStats","spend","totalSpend","total","highestSpender","highestSpenderEmail","User","highestSpenderTotal","_step","orders","unique","_iterator","_createForOfIteratorHelper","toConsumableArray","Set","order_custom_id","_loop","order","find","Shop","order_total","s","n","done","f","console","log","best","max","bestShop","bestShopName","numberOfUsers","numberOfMerchants","numberOfOrders","AdminFooter","details","setDetails","fc_index_esm","Admin","tempToken","getItem","warn","SideMenu_SideMenu","UserDashboard","formatted","active","spent","UserDashboard_createForOfIteratorHelper","Menu","item_name","item_qty","order_status","keys","UserFooter","basket","setTotal","tempTotal","qty","price","orderTotal","ai_index_esm","UsersMenu","menu","setMenu","expandShrink","updatedBasket","search","setSearch","setCategories","expand","element","changeQty","action","tempItem","onSubmit","handleSearch","arguments","undefined","getItemsForCategory","serve","item_desc","unit","addToBasket","item_pic","width","handleTransfer","Loading","loading","myOrders","setMyOrders","stopExec","_useState7","_useState8","setLoading","socket","socketIOClient","emit","on","disconnect","Loading_Loading","NotFound","CreateMenuItem","values","newItem","setNewItem","photo","setPhoto","create_appear","setCreate_appear","FormData","append","JSON","stringify","createNewMenuItem","files","onChangeHandler","ManageOrders","separators","el","updateOrderStatus","order_id","status","separator","GetItems","meal","availability","item_id","deleteItem","height","MerchantFooter","MerchantFooter_createForOfIteratorHelper","cg_index_esm","MerchantDashboard","merchants","setMerchants","MerchantDashboard_createForOfIteratorHelper","merchantsCount","Merchant","oldOrders","setOldOrders","CreateMeuItem_CreateMenuItem","MerchantDashboard_MerchantDashboard","ResviseItems","props","setBasket","setOrder","subTotal","setSubTotal","t_basket","t_order","t_subTotal","temp","handleDelete","handleSetOrders","UserHeader","Checkout","MyOrders","setSeparators","OrderTracker","App","_useReducer","useReducer","refreshAPI","_useReducer2","Provider","react_router_dom","react_router","path","exact","Admin_Admin","User_User","Checkout_Checkout","Merchant_Merchant","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.8f7d15aa.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport default createContext();","import axios from 'axios'\r\n\r\n\r\nexport default {\r\n    getUsers(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/users',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    login(email, password) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/login',\r\n            data: {\r\n                email: email.current.value, password: password.current.value\r\n            }\r\n        })\r\n    },\r\n    signup(email, password) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/signup',\r\n            data: {\r\n                email: email.current.value, password: password.current.value\r\n            }\r\n        })\r\n    },\r\n    updateBalanceRole(updateObj, token) {\r\n        return axios({\r\n            method: 'put',\r\n            url: '/api/updateBalanceRole',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n    getShops() {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/allshops'\r\n\r\n        })\r\n    },\r\n    getMenu(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/allmenu',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    getMenu_user() {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/allmenu-users',\r\n        })\r\n    },\r\n    createNewShop(updateObj, token) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/create-shop',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n    createMenuItem(updateObj, token) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/create-menu-item',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n\r\n    deleteMenuItem(updateObj, token) {\r\n        return axios({\r\n            method: 'delete',\r\n            url: '/api/delete-menu-item',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n\r\n\r\n    getThisUser(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/get-this',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    processPayment(updateObj, token) {\r\n        return axios({\r\n            method: 'post',\r\n            url: '/api/processpayment',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            },\r\n            data: updateObj\r\n        })\r\n    },\r\n    getActiveOrders(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/activeorders',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    getUserActiveOrders(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/myactiveorders',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    getMerchantsPerShop(email) {\r\n        return axios({\r\n            method: 'get',\r\n            url: `/api/merchants/${email}`\r\n        })\r\n    },\r\n    getAdminStats(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/admin-stats',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    },\r\n    getAdminFooter(token) {\r\n        return axios({\r\n            method: 'get',\r\n            url: '/api/admin-footer',\r\n            headers: {\r\n                authorization: `bearer ${token}`\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n}","import React, { useContext } from 'react'\r\nimport AppContext from '../utils/AppContext';\r\nimport './Notifier.css'\r\nexport default function Notifier() {\r\n    const { state } = useContext(AppContext);\r\n    const display = state.display\r\n    return (\r\n        <div className={`notification animate__animated animate__bounceInDown  ${display.color} ${display.class}`}>\r\n            <p className=\"p-3\">{display.text}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport './Splash.css'\r\nexport default function Splash() {\r\n    return (\r\n        <div className=\"splash__main text-center animate__animated animate__zoomIn  d-flex flex-column justify-content-between\">\r\n            <div>\r\n                <h1 className=\" mt-4\">Welcome</h1>\r\n                <h5 className=\" my-1\">to</h5>\r\n                <img className=\"d-block mx-auto\" src=\"./imgs/logo.png\" alt=\"logo\" />\r\n                <h3 className=\" my-1\">Community Fete</h3>\r\n                <h1>2021</h1>\r\n            </div>\r\n            <div className=\"fete___photo__container\">\r\n                <img src=\"./imgs/fete.png\" alt=\"fete\" className=\"fete__photo\" />\r\n\r\n            </div>\r\n            <p>&copy; Copyright 2021 , Developed by <a href=\"mailto:tonymelek.au@gmail.com\" className=\"text-purple\">Tony Melek</a></p>\r\n        </div >\r\n    )\r\n}\r\n","import React, { useRef, useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './login.css'\r\nimport AppContext from '../utils/AppContext';\r\nimport API from '../utils/API';\r\nimport Notifier from './Notifier';\r\nimport Splash from './common/Splash';\r\nexport default function Login() {\r\n    const email = useRef('');\r\n    const password = useRef('');\r\n    const history = useHistory();\r\n    const { dispatch } = useContext(AppContext);\r\n    const [splash, setSplash] = useState(true)\r\n    const handleLogin = (e, email, password) => {\r\n        e.preventDefault()\r\n        API.login(email, password).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n            localStorage.setItem(\"conmmFete\", res.data.token)\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Logged-in Successfully' } })\r\n            history.push(`/${res.data.role}`)\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n\r\n            }, 2000);\r\n\r\n        })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response.data}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n            })\r\n    }\r\n    const handleSignup = (e, email, password) => {\r\n        e.preventDefault()\r\n        API.signup(email, password).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n            localStorage.setItem(\"conmmFete\", res.data.token)\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Signed-up Successfully' } })\r\n            history.push(`/${res.data.role}`)\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n\r\n            }, 2000);\r\n        })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response.data}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setSplash(false)\r\n        }, 3000)\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"container \">\r\n            {splash && <Splash />}\r\n            <div className=\"login__main\">\r\n\r\n\r\n\r\n                <Notifier />\r\n                {!splash && <>\r\n\r\n                    <div className=\"login card mx-auto p-3 mt-3\">\r\n                        <h3 className=\"text-center mt-3\">Login</h3>\r\n                        <form >\r\n\r\n                            <label htmlFor=\"login__email\">Email</label>\r\n                            <input type=\"email\" name=\"login__email\" id=\"login__email\" ref={email} autoComplete=\"email\" placeholder=\"your Email\" className=\"form-control\" />\r\n                            <label htmlFor=\"login__password\">Password</label>\r\n                            <input type=\"password\" name=\"login__password\" id=\"login__password\" autoComplete=\"current-password\" ref={password} className=\"form-control\" />\r\n\r\n                            <button type=\"submit\" className=\"btn btn-primary my-2 w-100\" onClick={e => handleLogin(e, email, password)}>Login</button>\r\n                            <p className=\"fst-italic\">If you do not have an account please Sign up first, You only need to enter your email and password</p>\r\n\r\n                        </form>\r\n                        <button type=\"submit\" className=\"btn btn-outline-primary my-2 w-100\" onClick={e => handleSignup(e, email, password)}>Sign Up</button>\r\n\r\n                    </div>\r\n                </>}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport API from '../../utils/API';\r\nimport AppContext from '../../utils/AppContext';\r\n\r\nexport default function AdminUsers() {\r\n    const history = useHistory();\r\n    const [users, setUsers] = useState([])\r\n    const [shops, setShops] = useState([])\r\n    const [searchText, setSearchText] = useState('')\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const toBeUpdated = {}\r\n\r\n    useEffect(() => {\r\n        if (state.role === \"\") {\r\n            return\r\n        }\r\n        if (state.role !== \"admin\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n\r\n        API.getUsers(state.token)\r\n            .then(res => setUsers(res.data))\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n\r\n        API.getShops()\r\n            .then(res => setShops(res.data))\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n\r\n    }, [state])\r\n    const update = (e, email, attr) => {\r\n        const toUpdate = users.filter(user => user.email === email)[0];\r\n\r\n        switch (attr) {\r\n            case \"role\":\r\n                toUpdate.role = e.target.value\r\n                break;\r\n            case \"balance\":\r\n                toUpdate.balance = parseInt(e.target.value)\r\n                break\r\n            case \"shop\":\r\n                toUpdate.ShopId = parseInt(e.target.value)\r\n                break\r\n            default:\r\n                break;\r\n        }\r\n        toBeUpdated[email] = toUpdate;\r\n    }\r\n    const handleUpdate = (e, email) => {\r\n        e.preventDefault();\r\n        if (!toBeUpdated[email]) {\r\n            return\r\n        }\r\n        toBeUpdated[email][\"role\"] === \"merchant\" ? toBeUpdated[email][\"balance\"] = 0 : toBeUpdated[email][\"ShopId\"] = null\r\n        API.updateBalanceRole(toBeUpdated[email], state.token)\r\n            .then(res => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'User Updated Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div className=\"w-75 mx-auto\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"admin__search_input\">Search Users</label>\r\n                        <input type=\"text\" autoComplete=\"off\" name=\"admin__search_input\" id=\"admin__search_input\" className=\"form-control mb-2\" onChange={(e) => setSearchText(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"d-flex flex-row flex-wrap justify-content-around\">\r\n                    {users.filter(filtered => filtered.email.toLowerCase().includes(searchText.trim().toLowerCase()))\r\n                        .map(user => <div key={user.email} className=\"admin__users  card m-2\">\r\n                            <div className=\"card-header\">\r\n                                <h5 className=\"text-center\"> {user.email}</h5>\r\n                            </div>\r\n                            <div className=\"card-body d-flex flex-wrap justify-content-between align-items-center\">\r\n                                <div className=\"form-group d-flex justify-content-between align-items-center px-2 my-1 flex-grow-1\">\r\n                                    <p className=\"px-2 m-0\">Role </p>\r\n                                    <select defaultValue={user.role} onChange={e => update(e, user.email, \"role\")}>\r\n                                        <option value=\"user\" >user</option>\r\n                                        <option value=\"merchant\" >merchant</option>\r\n                                    </select>\r\n                                </div>\r\n                                {user.role === \"merchant\" ?\r\n                                    <div className=\"form-group d-flex justify-content-between align-items-center p-2 my-2 flex-grow-1\">\r\n\r\n                                        <p className=\"px-2 m-0\">Shop </p>\r\n                                        <select onChange={e => update(e, user.email, \"shop\")}>\r\n                                            <option value=\"\"></option>\r\n                                            {shops.map(shop => <option key={`shop-${shop.id}`} value={shop.id} selected={user.ShopId === shop.id}>{shop.name}</option>)}\r\n                                        </select>\r\n                                    </div> : null}\r\n                                {user.role === \"user\" ?\r\n                                    <div className=\"d-flex flex-row justify-content-between align-items-center my-2 p-2 flex-grow-1\">\r\n                                        <p className=\"px-2 m-0\">Top up Balance</p>\r\n\r\n                                        <input type=\"number\" name=\"user__topup\" onChange={e => update(e, user.email, \"balance\")} className=\"admin__user__topup\" />\r\n\r\n                                    </div> : null}\r\n                                <button type=\"submit\" className=\"btn btn-warning w-100\" onClick={e => handleUpdate(e, user.email, user.balance)}>Update</button>\r\n                            </div>\r\n\r\n                        </div>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport API from '../../utils/API'\r\nimport AppContext from '../../utils/AppContext';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function AdminMerchants() {\r\n    const categories = [\"Hot Food\", \"Beverage\", \"Kids\", \"Deserts\"].sort()\r\n    const [shops, setShops] = useState([])\r\n    const [newshop, setNewshop] = useState({ name: '', category: categories[0] })\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        if (state.role === \"\") {\r\n            return\r\n        }\r\n        if (state.role !== \"admin\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n\r\n        API.getShops()\r\n            .then(res => setShops(res.data))\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n\r\n    }, [state])\r\n    const newShopCreator = () => {\r\n        if (newshop.name.trim().length < 2) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `Shop name can't be empty` } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n\r\n            return\r\n        }\r\n        API.createNewShop(newshop, state.token)\r\n            .then(res => {\r\n                setNewshop({ name: '', category: categories[0] })\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Shop created Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `${err.response}` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"w-100 mx-auto\">\r\n                <div className=\"card p-2\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"new__shop__name\">Shop Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"new__shop__name\" id=\"new__shop__name\" onChange={(e) => setNewshop({ ...newshop, name: e.target.value.trim() })} />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"select__category\">Category</label>\r\n                        <select name=\"select__category\" defaultValue={categories[0]} id=\"select__category\" className=\"form-select\" onChange={(e) => setNewshop({ ...newshop, category: e.target.value })}>\r\n                            {categories.map((category, i) => <option key={`category-${i}`} value={category}>{category}</option>)}\r\n\r\n                        </select>\r\n                    </div>\r\n                    <button className=\"btn btn-primary my-3 \" type=\"submit\" onClick={newShopCreator}>Create Shop</button>\r\n                </div>\r\n            </div>\r\n            <h3 className=\"text-center my-3\">Shops List</h3>\r\n            <div className=\"card p-2 my-2\">\r\n                <ul className=\"d-flex flex-wrap list-unstyled\">\r\n                    {categories.map((category, i) => <><h5 className=\"w-100\" key={i}>{category}</h5>\r\n\r\n                        {shops.filter(item => item.category === category)\r\n                            .map(shop => <li key={`shops-${shop.id}`} className=\"px-2 m-2 d-inline-flex bg-danger border-success rounded text-light\">{shop.name}</li>\r\n                            )}\r\n                    </>)}\r\n                </ul>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { BiMenu } from 'react-icons/bi';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport { RiLogoutBoxRFill } from 'react-icons/ri'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function Header({ state, sideDisplay }) {\r\n    const { side, setSide } = sideDisplay\r\n    const history = useHistory()\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('conmmFete')\r\n        history.replace('/');\r\n\r\n    }\r\n    return (\r\n        <div className=\"header__main \">\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n                <BiMenu className=\"BiMenu\" onClick={() => setSide(side === 'd-none' ? 'd-block animate__animated animate__fadeInDown' : 'd-none')} />\r\n\r\n                <div className=\"d-flex align-items-center justify-content-center\">\r\n                    <div className='d-flex align-items-center cursor-pointer' onClick={() => history.push(`/${state.role}`)}>\r\n                        <FaUserCircle className=\"FaUserCircle\" />\r\n                        <p className=\"p-0 my-0 mx-2\"> {state.user_email} </p>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column p-1 align-items-center  justify-content-center cursor-pointer\" onClick={handleLogout}>\r\n                        <RiLogoutBoxRFill className=\"FaUserCircle\" />\r\n                        <p className=\"py-1 m-0\">Logout</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport './SideMenu.css'\r\nexport default function SideMenu({ side, items }) {\r\n    return (\r\n        <div className={`side__menu ${side.side}`}>\r\n            {items.map(item =>\r\n                <div key={item} className=\"side__menu__item py-2 px-5 m-2\">\r\n                    <a href={`#${item}`} onClick={() => side.setSide(side.side === 'd-none' ? 'd-block animate__animated animate__fadeInDown' : 'd-none')}>{item.split('-').join(' ')}</a>\r\n                </div>\r\n            )}\r\n\r\n        </div >\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport API from '../../utils/API'\r\n\r\nexport default function AdminDashboard({ state }) {\r\n    const [stats, setStats] = useState({})\r\n    useEffect(() => {\r\n        if (state.token === \"\") {\r\n            return\r\n        }\r\n        API.getAdminStats(state.token)\r\n            .then(res => {\r\n                let stats = res.data\r\n                stats.spend = res.data.totalSpend[0].total\r\n                if (res.data.highestSpender.length === 1) {\r\n                    let highestSpender = res.data.highestSpender[0]\r\n                    stats.highestSpenderEmail = highestSpender.User.email\r\n                    stats.highestSpenderTotal = highestSpender.total\r\n                } else {\r\n                    stats.highestSpenderEmail = 'no purchases yet'\r\n                    stats.highestSpenderTotal = 0\r\n                }\r\n                const orders = stats.orders\r\n                const unique = {}\r\n                const custom_ids = [...new Set(orders.map(item => item.order_custom_id))]\r\n                for (let id of custom_ids) {\r\n                    let order = orders.find(order => order.order_custom_id === id)\r\n                    if (unique[order.Shop.name]) {\r\n                        unique[order.Shop.name].total += order.order_total\r\n                        unique[order.Shop.name].orders++\r\n                    } else {\r\n                        unique[order.Shop.name] = { total: order.order_total, orders: 1 }\r\n                    }\r\n                }\r\n                console.log(unique);\r\n                let max = 0\r\n                let best;\r\n                let highest = 0\r\n                for (let key in unique) {\r\n                    if (unique[key].total > max) {\r\n                        max = unique[key].total\r\n                        best = key\r\n                        highest = unique[key].orders\r\n                    }\r\n                }\r\n                stats.bestShop = unique[best]\r\n                stats.bestShopName = best\r\n                setStats(stats)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [state])\r\n    return (\r\n        <div className=\"admin__dashboard__main text-center\">\r\n            <h3 className=\"py-3\">Admin Dashboard</h3>\r\n            <div className=\"d-flex flex-wrap justify-content-around pt-4\">\r\n                \r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Users</h3>\r\n                        <h1 className=\"display-4  mt-4 text-danger\">{stats.numberOfUsers}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Merchants</h3>\r\n                        <h1 className=\"mt-4 text-primary display-4\">{stats.numberOfMerchants}</h1>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Orders</h3>\r\n                        <h1 className=\"display-4  mt-4 text-primary\">{stats.numberOfOrders}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Revenue</h3>\r\n                        <h1 className=\"mt-4\">$<span className=\"display-4 text-danger\">{stats.spend > 0 ? stats.spend : 0}</span></h1>\r\n\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Best Selling Shop</h3>\r\n                        <h2 className=\"text-danger mt-2\">{stats.bestShopName}</h2>\r\n                        <h3 >Orders# {{ ...stats.bestShop }.orders}</h3>\r\n                        <h3 >Sales: $<span className=\"text-danger\">{{ ...stats.bestShop }.total}</span></h3>\r\n\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Highest Spending User</h3>\r\n                        <h2 className=\"mt-4\">{stats.highestSpenderEmail}</h2>\r\n                        <h3>Spent : $<span className=\"text-danger\">{stats.highestSpenderTotal}</span></h3>\r\n\r\n                    </div>\r\n              \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { FcShop } from 'react-icons/fc';\r\nimport { FaUsers } from 'react-icons/fa'\r\nimport { RiAdminLine } from 'react-icons/ri'\r\nimport API from '../../utils/API';\r\nimport { useHistory } from 'react-router-dom';\r\nexport default function AdminFooter({ state }) {\r\n    const [details, setDetails] = useState({})\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        if (state.token.length < 20) {\r\n            return\r\n        }\r\n        API.getAdminFooter(state.token)\r\n            .then(res => {\r\n                setDetails(res.data)\r\n\r\n            })\r\n    }, [state])\r\n    const handleCreateAdmin = () => {\r\n        history.push('/create-admin')\r\n    }\r\n    return (\r\n        <div className=\"merchant__footer__main py-2\">\r\n\r\n            <div className=\"d-flex justify-content-around\">\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FcShop className=\"FcShop\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong>{details.shops} </strong> </p>\r\n\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FaUsers className=\"GrDocumentTime \" />\r\n                    <p className=\"p-0 my-0 mx-2\"> <strong> {details.users}</strong> </p>\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\" onClick={handleCreateAdmin}>\r\n                    <RiAdminLine className=\"AiOutlineDollar\" />\r\n                    <p className=\"p-0 my-0 mx-2\">Create Admin </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useEffect, useContext, useState } from 'react'\r\nimport API from '../utils/API'\r\nimport AppContext from '../utils/AppContext';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './Admin.css'\r\nimport Notifier from '../components/Notifier';\r\nimport AdminUsers from '../components/admin/AdminUsers';\r\nimport AdminMerchants from '../components/admin/AdminMerchants';\r\nimport Header from '../components/common/Header';\r\nimport SideMenu from '../components/common/SideMenu';\r\nimport AdminDashboard from '../components/admin/AdminDashboard';\r\nimport AdminFooter from '../components/admin/AdminFooter';\r\nexport default function Admin() {\r\n\r\n    const [side, setSide] = useState('d-none')\r\n    const sideMenu = ['Dashboard', 'Manage-Shops', 'Manage-Users']\r\n    const history = useHistory();\r\n    const { dispatch, state } = useContext(AppContext);\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"container admin__main\">\r\n            <Notifier />\r\n\r\n\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Header state={state} sideDisplay={{ side, setSide }} />\r\n\r\n                <div className=\"flex__main__components\">\r\n                    <SideMenu side={{ side, setSide }} items={sideMenu} />\r\n                    <div className=\"admin__component mx-2 mb-10\" id=\"Dashboard\">\r\n                        <AdminDashboard state={state} />\r\n                    </div>\r\n                    <div className=\"admin__component mx-2 mb-10\" id=\"Manage-Shops\">\r\n                        <AdminMerchants />\r\n                    </div>\r\n                    <div className=\"admin__component mx-2 mb-10\" id=\"Manage-Users\">\r\n                        <AdminUsers />\r\n                    </div>\r\n                </div>\r\n                <AdminFooter state={state} />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function UserDashboard({ orders }) {\r\n\r\n    const separators = [...new Set(orders.map(item => item.order_custom_id))]\r\n\r\n    const stats = {}\r\n    const formatted = {}\r\n    let active = 0\r\n    let spent = 0\r\n\r\n    for (let order of orders) {\r\n        if (stats[order.Menu.item_name]) {\r\n            stats[order.Menu.item_name] += order.item_qty\r\n        } else {\r\n            stats[order.Menu.item_name] = order.item_qty\r\n        }\r\n        if (formatted[order.order_custom_id]) {\r\n            formatted[order.order_custom_id]['items'].push(order)\r\n        }\r\n        else {\r\n            formatted[order.order_custom_id] = {}\r\n            formatted[order.order_custom_id]['items'] = [order]\r\n            formatted[order.order_custom_id]['total'] = order.order_total\r\n            if (order.order_status !== 'received') {\r\n                active++\r\n                spent += order.order_total\r\n            }\r\n        }\r\n    }\r\n    console.log(formatted, active);\r\n\r\n    let max = 0\r\n    let best;\r\n    for (let key in stats) {\r\n        if (stats[key] > max) {\r\n            max = stats[key]\r\n            best = key\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"user__dashboard__main text-center\">\r\n            <h3 className=\"py-3\">User Dashboard</h3>\r\n\r\n            <div className=\"d-flex flex-wrap justify-content-around pt-4\">\r\n                <div className=\"d-flex flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Orders</h3>\r\n                        <h1 className=\"display-4  mt-4 text-danger\">{Object.keys(formatted).length}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Favourite</h3>\r\n                        <h3 className=\"mt-4 text-primary\">{best}</h3>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex  flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Active Orders</h3>\r\n                        <h1 className=\"display-4  mt-4 text-primary\">{active}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Spent</h3>\r\n                        <h1 className=\"mt-4\">$<span className=\"display-4 text-danger\">{spent}</span></h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport AppContext from '../../utils/AppContext'\r\nimport { FaShoppingBasket } from 'react-icons/fa';\r\nimport { AiOutlineDollar } from 'react-icons/ai'\r\nimport { FcMoneyTransfer } from 'react-icons/fc'\r\n\r\nexport default function UserFooter() {\r\n    const { state, dispatch } = useContext(AppContext)\r\n    const basket = state.basket;\r\n    const [total, setTotal] = useState(0)\r\n\r\n    useEffect(() => {\r\n        let tempTotal = 0\r\n        for (let item in basket) {\r\n            tempTotal += basket[item].qty * basket[item].price\r\n        }\r\n        setTotal(tempTotal)\r\n    }, [state])\r\n    useEffect(() => {\r\n        dispatch({ type: 'update_orderTotal', orderTotal: total })\r\n    }, [total])\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"user__header2__main py-2\">\r\n            <div className=\"d-flex justify-content-around\">\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FaShoppingBasket className=\"AiOutlineDollar\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong>{Object.keys(state.basket).length} </strong> </p>\r\n\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FcMoneyTransfer className=\"AiOutlineDollar \" />\r\n                    <p className=\"p-0 my-0 mx-2\">Total:<strong>${total} </strong> </p>\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <AiOutlineDollar className=\"AiOutlineDollar\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong> $</strong> {state.balance}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { BiSearch } from 'react-icons/bi'\r\nimport API from '../../utils/API';\r\nimport AppContext from '../../utils/AppContext'\r\n\r\nexport default function UsersMenu({ history }) {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [menu, setMenu] = useState([])\r\n    const getItemsForCategory = (item = '') => [...new Set(menu.filter(element => element.item_name.toLowerCase().includes(item)).map(item => item.Shop.category))];\r\n    let expandShrink = ['d-none', 'd-block']\r\n    const updatedBasket = state.basket;\r\n    const [search, setSearch] = useState('')\r\n    const [categories, setCategories] = useState([])\r\n\r\n    useEffect(() => {\r\n        API.getMenu_user()\r\n            .then(res => {\r\n                setMenu(res.data.map(item => { return { ...item, expand: false, qty: 0 } }))\r\n                setCategories([...new Set(res.data.filter(element => element.item_name.toLowerCase()).map(item => item.Shop.category))]);\r\n            })\r\n            .catch(err => console.log(err.response))\r\n    }, [])\r\n\r\n\r\n    const addToBasket = (e, item) => {\r\n        const { id, item_name, price, ShopId } = item\r\n        let qty = parseInt(e.target.value);\r\n        setMenu(menu.map(item => item.id === id ? { ...item, qty: qty } : item))\r\n        if (qty > 0) {\r\n            updatedBasket[id] = { id, qty, item_name, price, ShopId }\r\n        } else {\r\n            setMenu(menu.map(item => item.id === id ? { ...item, qty: 0 } : item))\r\n            delete updatedBasket[id]\r\n        }\r\n        dispatch({ type: 'updateBasket', basket: updatedBasket })\r\n    }\r\n    const changeQty = (id, action) => {\r\n        setMenu(menu.map(item => {\r\n            if (item.id === id) {\r\n                let tempItem = { ...item, qty: action === \"+\" ? item.qty + 1 : item.qty - 1 }\r\n                if (tempItem.qty > 0) {\r\n                    updatedBasket[id] = { id, qty: tempItem.qty, item_name: tempItem.item_name, price: tempItem.price, ShopId: tempItem.ShopId }\r\n                    return tempItem\r\n                } else {\r\n                    tempItem = { ...item, qty: 0 }\r\n                    delete updatedBasket[id]\r\n                    return tempItem\r\n                }\r\n\r\n            }\r\n            else {\r\n                return item\r\n            }\r\n\r\n        }))\r\n\r\n        dispatch({ type: 'updateBasket', basket: updatedBasket })\r\n    }\r\n\r\n\r\n    const handleTransfer = (e) => {\r\n        e.preventDefault();\r\n        if (Object.keys(state.basket).length === 0) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `You need to have at least one item in basket to proceed` } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n            return\r\n        }\r\n        history.push('/checkout')\r\n    }\r\n    const handleSearch = e => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <div className=\"user__menu__main px-4 \">\r\n            <form autoComplete=\"off\" onSubmit={e => handleSearch(e)} >\r\n                <div className=\"form-group my-2 pt-3 d-flex align-items-end\" >\r\n                    <div className=\"flex-grow-1  mx-2\" >\r\n                        <label htmlFor=\"search-item\">Filter Items</label>\r\n                        <input type=\"text\" name=\"search-item\" value={search} id=\"search-item\" className=\"form-control\" onChange={(e) => {\r\n                            setSearch(e.target.value.trim().toLowerCase())\r\n                            setCategories(getItemsForCategory(e.target.value))\r\n\r\n                        }} />\r\n                    </div>\r\n                    <button className=\"btn btn-primary mx-2\" type=\"submit\"><BiSearch /></button>\r\n                </div>\r\n            </form>\r\n            <hr />\r\n            <div className=\"d-flex flex-column justify-content-between\">\r\n                <div className=\"user__menu__items\" >\r\n\r\n                    {categories.map(category => <div key={category}>\r\n                        <div className={`card  bg-dark my-2 p-2   text-light cursor-pointer`} onClick={() => {\r\n                            setMenu(menu.map(item => item.Shop.category === category ? { ...item, expand: !item.expand } : item))\r\n\r\n                        }} ><h5>{category}</h5></div>\r\n\r\n                        {menu.filter(element => element.item_name.toLowerCase().includes(search)).filter(items => items.Shop.category === category).map(item => <div key={item.id} className={`card  my-2 p-2 d-flex flex-row flex-wap justify-content-between animate__animated   animate__zoomIn ${expandShrink[item.expand ? 1 : 0]}`}>\r\n\r\n                            <div>\r\n                                <p className=\"my-1\"><strong>{item.item_name}</strong>-{item.serve}</p>\r\n                                <p className=\"my-1\">{item.item_desc}</p>\r\n                                <p className=\"my-2\">({item.unit}) ${item.price}</p>\r\n                                <div className=\"d-flex\">\r\n                                    <button className=\"btn btn-dark\" onClick={() => changeQty(item.id, \"-\")}>&#60;</button>\r\n                                    <input type=\"number\" value={item.qty} onChange={e => addToBasket(e, item)} className=\"form-control mx-2 input__qty\" />\r\n                                    <button className=\"btn btn-dark\" onClick={() => changeQty(item.id, \"+\")}>&#62;</button>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <img src={item.item_pic} width=\"100\" alt={item.item_name} />\r\n                            </div>\r\n                        </div>)}\r\n                    </div>)}\r\n                </div>\r\n\r\n                <div>\r\n                    <button type=\"submit\" onClick={e => handleTransfer(e)} className=\"btn btn-success w-100 mb-3\">Check out</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport './Loading.css'\r\nexport default function Loading({ loading }) {\r\n\r\n\r\n    return (\r\n        <div className=\"loading__main\">\r\n            {loading &&\r\n                <img src=\"./imgs/loading.gif\" alt=\"loading\" />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Header from '../components/common/Header';\r\nimport SideMenu from '../components/common/SideMenu';\r\nimport UserDashboard from '../components/user/UserDashboard';\r\nimport UserFooter from '../components/user/UserFooter';\r\nimport UsersMenu from '../components/user/UsersMenu'\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\nimport './User.css'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Notifier from '../components/Notifier';\r\nimport Loading from '../components/common/Loading';\r\n\r\n\r\nexport default function User() {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [myOrders, setMyOrders] = useState([])\r\n    const [menu, setMenu] = useState([])\r\n    let stopExec = false\r\n    const history = useHistory();\r\n    const [side, setSide] = useState('d-none')\r\n    const sideMenu = ['Dashboard', \"Order-now\"]\r\n    const [loading, setLoading] = useState(true)\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (state.user_email === \"\" || stopExec) {\r\n            return\r\n        }\r\n        if (state.role !== \"\" && state.role !== \"user\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n        stopExec = true\r\n        const socket = socketIOClient();\r\n        API.getMenu_user()\r\n            .then(res => {\r\n                setMenu(res.data.map(item => { return { ...item, expand: false, qty: 0 } }))\r\n\r\n            })\r\n            .catch(err => console.log(err.response))\r\n\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('userOrders', data => {\r\n            setMyOrders(data)\r\n            setLoading(false)\r\n        })\r\n\r\n        socket.on('activeOrders', data => {\r\n            setMyOrders(data)\r\n        })\r\n        socket.emit('newOrder', myOrders)\r\n        return () => {\r\n            socket.disconnect()\r\n        }\r\n    }, [state])\r\n\r\n    return (\r\n        <div className=\"container user__main\">\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Notifier />\r\n                <Loading loading={loading} />\r\n                <Header state={state} sideDisplay={{ side, setSide }} />\r\n\r\n                <div className={`flex__main__components ${loading ? 'hazy' : ''}`}>\r\n                    <SideMenu side={{ side, setSide }} items={sideMenu} />\r\n                    <div className=\"pt-4 user__dashboard\" id=\"Dashboard\">\r\n                        <UserDashboard orders={myOrders} menu={menu} />\r\n                    </div>\r\n                    <div id=\"Order-now\" className=\"pt-2\">\r\n                        <UsersMenu history={history} />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <UserFooter />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <div>\r\n            <h1 className=\"text-center\">Page is not found or you not allowed to view this page</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useState, useContext } from 'react'\r\nimport API from '../../utils/API';\r\nimport AppContext from '../../utils/AppContext';\r\n\r\nimport './CreateMenuItem.css'\r\n\r\nexport default function CreateMenuItem({ values }) {\r\n\r\n    const [newItem, setNewItem] = useState({ item_name: '', item_desc: '', unit: 'each', serve: 'sandwitch', price: 0 })\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [photo, setPhoto] = useState(null);\r\n    const createNewMenuItem = (e) => {\r\n        e.preventDefault();\r\n        const { item_name, item_desc, unit, serve, price } = newItem\r\n        const data = new FormData()\r\n        data.append('userPhoto', photo)\r\n        data.append('data', JSON.stringify(newItem));\r\n\r\n\r\n        if (item_name.length < 2 || item_desc.length < 2 || price <= 0) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `All Fields are Mandatory, please fill and re-submit` } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n            return\r\n        }\r\n\r\n        API.createMenuItem(data, state.token)\r\n            .then(res => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Item created Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n                values.setCreate_appear('d-none')\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `Error creating new Item` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n    }\r\n\r\n    const onChangeHandler = e => {\r\n        setPhoto(e.target.files[0]);\r\n    }\r\n    return (\r\n        <div className={`create__menu__item ${values.create_appear}`}>\r\n\r\n            <div className=\"card m-3 create__menu__item__card\">\r\n                <div className=\"card-header\">\r\n                    <p onClick={() => { values.setCreate_appear('d-none') }} className=\"text-right\">X</p>\r\n                    <h4 className=\"text-center\">Create New Menu Item</h4>\r\n                </div>\r\n                <form onSubmit={e => createNewMenuItem(e, newItem)}>\r\n                    <div className=\"form-group m-2\">\r\n                        <label htmlFor=\"create_menu_name\">Item Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"create_menu_name\" id=\"create_menu_name\" onChange={(e) => setNewItem({ ...newItem, item_name: e.target.value.trim() })} />\r\n                    </div>\r\n                    <div className=\"form-group m-2\">\r\n                        <label htmlFor=\"create_menu_desc\">Item Description</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"create_menu_desc\" id=\"create_menu_desc\" onChange={(e) => setNewItem({ ...newItem, item_desc: e.target.value.trim() })} />\r\n                    </div>\r\n                    <div className=\"form-group m-2\">\r\n                        <label htmlFor=\"create_menu_pic\">Item Picture</label>\r\n                        {/* <input type=\"text\" className=\"form-control\" name=\"create_menu_pic\" id=\"create_menu_pic\" onChange={(e) => setNewItem({ ...newItem, item_pic: `https://drive.google.com/uc?export=view&id=${e.target.value.trim()}` })} /> */}\r\n                        <input type=\"file\" id='photo' name=\"file\" className='form-control' onChange={e => onChangeHandler(e)} />\r\n                    </div>\r\n                    <div className=\"form-group m-2\">\r\n                        <label htmlFor=\"\">Unit</label>\r\n                        <select defaultValue=\"each\" className=\"form-select\" name=\"create_menu_unit\" id=\"create_menu_unit\" onChange={(e) => setNewItem({ ...newItem, unit: e.target.value })}>\r\n                            <option value=\"each\">each</option>\r\n                            <option value=\"100g\">100g</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group m-2\">\r\n                        <label htmlFor=\"create_menu_serve\">Serve</label>\r\n                        <select className=\"form-select\" name=\"create_menu_serve\" id=\"create_menu_serve\" onChange={(e) => setNewItem({ ...newItem, serve: e.target.value })}>\r\n                            <option value=\"sandwitch\">sandwitch</option>\r\n                            <option value=\"cup\">cup</option>\r\n                            <option value=\"box\">box</option>\r\n                            <option value=\"ticket\">ticket</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group m-2\">\r\n                        <label htmlFor=\"create_menu_price\">Price</label>\r\n                        <input type=\"number\" className=\"form-control\" name=\"create_menu_price\" id=\"create_menu_price\" onChange={(e) => setNewItem({ ...newItem, price: e.target.value })} />\r\n                    </div>\r\n                    <button className=\"btn btn-primary m-2\" type=\"submit\" >Create Item</button>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nexport default function ManageOrders({ myOrders, menu }) {\r\n\r\n    const separators = [...new Set(myOrders.map(item => item.order_status !== 'received' ? item.order_custom_id : null).filter(el => el !== null))]\r\n\r\n\r\n    const updateOrderStatus = (e, order_id, status) => {\r\n        e.preventDefault();\r\n        const socket = socketIOClient();\r\n        socket.emit('updateOrderStatus', {\r\n            id: order_id,\r\n            status\r\n        })\r\n\r\n\r\n    }\r\n    return (\r\n        <div className=\"merchant__manage__orders__main\">\r\n            <h3 className=\"text-center py-3\">Manage Orders</h3>\r\n            <div className=\"d-flex flex-wrap justify-content-around\">\r\n\r\n                <div className=\"d-flex flex-wrap justify-content-center\">\r\n\r\n                    {separators.map(separator => <div key={separator}>\r\n\r\n                        <div className=\"card  myorder__items m-2 \">\r\n                            <div className=\"card-header bg-header\">\r\n                                <h4 className=\"text-center\">Order#<span className=\"text-danger\"> {separator} </span>- Shop: <span className=\"text-primary\">{{ ...{ ...myOrders.find(order => order.order_custom_id === separator) }.Shop }.name}</span></h4>\r\n                            </div>\r\n                            <div className={`card-body  ${{ ...myOrders.find(order => order.order_custom_id === separator) }.order_status === 'paid' ? 'bg-paid' : 'bg-ready'}`}>\r\n                                <div className=\"d-flex flex-column\">\r\n                                    <div className=\"d-flex  justify-content-between myorder__items\">\r\n                                        <div>\r\n                                            <h5 className=\"m-1 p-0\">Items</h5>\r\n                                            {myOrders.filter(orders => orders.order_custom_id === separator)\r\n                                                .map(order => <div key={order.id}>\r\n                                                    {<ul className=\"p-1 m-0 list-unstyled\">\r\n                                                        <li ><>{order.Menu.item_name}x{order.item_qty}</></li>\r\n                                                    </ul>}\r\n                                                </div>)}\r\n                                        </div>\r\n                                        <div>\r\n                                            <h1>${{ ...myOrders.find(order => order.order_custom_id === separator) }.order_total}</h1>\r\n                                            <h5>&#8226; {{ ...myOrders.find(order => order.order_custom_id === separator) }.order_status}</h5>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        {{ ...myOrders.find(order => order.order_custom_id === separator) }.order_status === 'paid' &&\r\n                                            <button className=\"btn btn-warning d-block w-100 my-2\" onClick={e => updateOrderStatus(e, separator, \"ready\")}>Ready</button>}\r\n                                        {{ ...myOrders.find(order => order.order_custom_id === separator) }.order_status === 'ready' &&\r\n                                            <button className=\"btn btn-success d-block w-100 my-2\" onClick={e => updateOrderStatus(e, separator, \"received\")}>Collected</button>}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>)}\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport API from '../../utils/API'\r\nimport AppContext from '../../utils/AppContext'\r\n\r\n\r\nexport default function GetItems() {\r\n    const [menu, setMenu] = useState([])\r\n    const { dispatch, state } = useContext(AppContext)\r\n    useEffect(() => {\r\n        if (state.token !== \"\") {\r\n            API.getMenu(state.token)\r\n                .then(res => {\r\n                    setMenu(res.data)\r\n                })\r\n                .catch(err => console.log(err.response))\r\n        }\r\n    }, [state])\r\n    //Build Delete Functionality to set Item as not available in the menu\r\n    const deleteItem = (e, id) => {\r\n        e.preventDefault();\r\n        API.deleteMenuItem({ item_id: id }, state.token)\r\n            .then(res => {\r\n                setMenu(menu.map(item => {\r\n                    if (item.id === id) {\r\n                        item.availability = false\r\n                    }\r\n                    return item\r\n                }))\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Item deleted Successfully' } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: `Error deleting Item` } })\r\n                setTimeout(() => {\r\n                    dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                }, 2000);\r\n                console.log(err.response.data);\r\n            })\r\n    }\r\n    return (\r\n        <div className=\"mb-10 merchant__menu__main\">\r\n            <h3 className=\"text-center py-3\">Menu Items</h3>\r\n            {menu.filter(meal => meal.availability).map(item => <div key={item.id} className=\"card m-2 p-2 d-flex flex-row flex-wap justify-content-between\">\r\n                <div>\r\n                    <p><strong>{item.item_name}</strong> - {item.item_desc}</p>\r\n                    <p>{item.unit}-{item.serve}-${item.price}</p>\r\n                    <button onClick={e => deleteItem(e, item.id)} className=\"btn btn-danger\" type=\"submit\">Delete Item</button>\r\n                </div>\r\n                <div>\r\n                    <img src={item.item_pic} height=\"80\" alt={item.item_name} />\r\n                </div>\r\n            </div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport { FcShop } from 'react-icons/fc';\r\nimport { CgTimer } from 'react-icons/cg'\r\nimport { AiOutlineDollar } from 'react-icons/ai'\r\nexport default function MerchantFooter({ orders }) {\r\n    let shop = ''\r\n    const stats = {}\r\n    const formatted = {}\r\n    let active = 0\r\n    let balance = 0\r\n\r\n    for (let order of orders) {\r\n        shop = order.Shop.name\r\n        if (stats[order.Menu.item_name]) {\r\n            stats[order.Menu.item_name] += order.item_qty\r\n        } else {\r\n            stats[order.Menu.item_name] = order.item_qty\r\n        }\r\n        if (formatted[order.order_custom_id]) {\r\n            formatted[order.order_custom_id]['items'].push(order)\r\n        }\r\n        else {\r\n            formatted[order.order_custom_id] = {}\r\n            formatted[order.order_custom_id]['items'] = [order]\r\n            formatted[order.order_custom_id]['total'] = order.order_total\r\n            balance += order.order_total\r\n            if (order.order_status !== 'received') {\r\n                active++\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"merchant__footer__main py-2\">\r\n            {/* <div className=\"d-flex justify-content-between align-items-center\">\r\n               \r\n            </div> */}\r\n            <div className=\"d-flex justify-content-around\">\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <FcShop className=\"FcShop\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong> {shop}</strong> </p>\r\n\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <CgTimer className=\"GrDocumentTime \" />\r\n                    <p className=\"p-0 my-0 mx-2\">Active : <strong> {active}</strong> </p>\r\n                </div>\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <AiOutlineDollar className=\"AiOutlineDollar\" />\r\n                    <p className=\"p-0 my-0 mx-2\"><strong> ${balance}</strong> </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport API from '../../utils/API';\r\nimport './MerchantDashboard.css'\r\nexport default function MerchantDashboard({ orders, menu, state }) {\r\n    const [merchants, setMerchants] = useState(0)\r\n\r\n    const separators = [...new Set(orders.map(item => item.order_custom_id))]\r\n\r\n    let stats = {}\r\n\r\n    for (let order of orders) {\r\n        if (stats[order.Menu.item_name]) {\r\n            stats[order.Menu.item_name] += order.item_qty\r\n        } else {\r\n            stats[order.Menu.item_name] = order.item_qty\r\n        }\r\n    }\r\n\r\n    let max = 0\r\n    let best;\r\n    for (let key in stats) {\r\n        if (stats[key] > max) {\r\n            max = stats[key]\r\n            best = key\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (state.user_email === \"\") {\r\n            return\r\n        }\r\n        API.getMerchantsPerShop(state.user_email)\r\n            .then(res => {\r\n                setMerchants(res.data.merchantsCount)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [state])\r\n\r\n\r\n    return (\r\n        <div className=\"merchant__dasboard__main text-center\">\r\n            <h3 className=\"text-center py-3\">Merchant Dashboard</h3>\r\n            <div className=\"d-flex flex-wrap justify-content-around pt-4\">\r\n                <div className=\"d-flex flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Total Orders</h3>\r\n                        <h1 className=\"display-1 mt-4 text-danger\">{separators.length}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Best Seller</h3>\r\n                        <h2 className=\"mt-3 text-primary\">{best}</h2>\r\n                        <h5>Sold: {max}</h5>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex  flex-grow-1 justify-content-around\">\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Menu Items</h3>\r\n                        <h1 className=\"display-1 mt-4 text-primary\">{menu.filter(item => item.availability).length}</h1>\r\n                    </div>\r\n                    <div className=\"dashboard__item card animate__animated  animate__bounceIn\">\r\n                        <h3>Merchants</h3>\r\n                        <h1 className=\"display-1 mt-4 text-danger\">{merchants}</h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport Notifier from '../components/Notifier';\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\nimport './Merchant.css'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport CreateMenuItem from '../components/Merchant/CreateMeuItem';\r\nimport Header from '../components/common/Header';\r\nimport ManageOrders from '../components/Merchant/ManageOrders';\r\nimport GetItems from '../components/Merchant/GetItems';\r\nimport MerchantFooter from '../components/Merchant/MerchantFooter';\r\nimport SideMenu from '../components/common/SideMenu';\r\nimport MerchantDashboard from '../components/Merchant/MerchantDashboard';\r\n\r\nexport default function Merchant() {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [create_appear, setCreate_appear] = useState('d-none')\r\n    const [side, setSide] = useState('d-none')\r\n    const sideMenu = ['Dashboard', 'Manage-Orders', 'Update-Menu']\r\n    const history = useHistory();\r\n    const [menu, setMenu] = useState([])\r\n    const [oldOrders, setOldOrders] = useState([])\r\n    let stopExec = false\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n    useEffect(() => {\r\n        if (state.role !== \"\" && state.role !== \"merchant\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n        if (state.token === \"\" || stopExec) {\r\n            return\r\n        }\r\n        stopExec = true\r\n        const socket = socketIOClient();\r\n        API.getMenu(state.token)\r\n            .then(res => {\r\n                setMenu(res.data)\r\n            })\r\n            .catch(err => console.log(err.response))\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('shopConnection', data => {\r\n            console.log(data);\r\n        })\r\n        socket.on('oldOrders', data => {\r\n            setOldOrders(data)\r\n        })\r\n\r\n        return () => socket.disconnect();\r\n    }, [state])\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container merchant__main\">\r\n            <Notifier />\r\n\r\n            <CreateMenuItem values={{ create_appear, setCreate_appear }} />\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n\r\n                <Header state={state} sideDisplay={{ side, setSide }} />\r\n\r\n                <div className=\"flex__main__components\">\r\n                    <SideMenu side={{ side, setSide }} items={sideMenu} />\r\n                    <div className=\" mx-2 merchant__section mb-10\" id=\"Dashboard\">\r\n\r\n                        <MerchantDashboard orders={oldOrders} menu={menu} state={state} />\r\n\r\n                    </div>\r\n                    <div className=\" mx-2 merchant__section mb-10\" id=\"Manage-Orders\">\r\n\r\n                        <ManageOrders myOrders={oldOrders} menu={menu} />\r\n\r\n                    </div>\r\n\r\n                    <div className=\" merchant__section mb-10\" id=\"Update-Menu\">\r\n                        <button onClick={() => setCreate_appear('d-block animate__animated animate__zoomIn ')} className=\"btn btn-outline-danger create__new__item__button cursor-pointer\">Create New Menu Item </button>\r\n\r\n                        <GetItems />\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <MerchantFooter orders={oldOrders} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport API from '../../utils/API';\r\nimport './ReviseItems.css'\r\n\r\n\r\nexport default function ResviseItems({ props }) {\r\n    const { state, dispatch, history, socketIOClient } = props\r\n    const [basket, setBasket] = useState([]);\r\n    const [order, setOrder] = useState({});\r\n    const [subTotal, setSubTotal] = useState({});\r\n    const t_basket = [];\r\n    const t_order = {}\r\n    const t_subTotal = {}\r\n    useEffect(() => {\r\n        for (let item in state.basket) {\r\n            t_basket.push(state.basket[item])\r\n            let tempItem = { ...state.basket[item] }\r\n            if (t_order[tempItem.ShopId]) {\r\n                t_order[tempItem.ShopId].push({ id: tempItem.id, qty: tempItem.qty })\r\n                t_subTotal[tempItem.ShopId] += tempItem.qty * tempItem.price\r\n            } else {\r\n                t_order[tempItem.ShopId] = [{ id: tempItem.id, qty: tempItem.qty }]\r\n                t_subTotal[tempItem.ShopId] = tempItem.qty * tempItem.price\r\n            }\r\n        }\r\n        setBasket(t_basket)\r\n        setOrder(t_order)\r\n        setSubTotal(t_subTotal)\r\n    }, [state])\r\n\r\n\r\n\r\n\r\n    const handleSetOrders = (e) => {\r\n        e.preventDefault();\r\n        if (state.orderTotal === 0) {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: 'Total should not be zero, you will be redirected to main page' } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n            return history.replace('/user')\r\n        }\r\n        const socket = socketIOClient()\r\n        if (state.balance >= state.orderTotal) {\r\n            //call api to store transaction , update user balance , create orders in the database\r\n            API.processPayment(\r\n                {\r\n                    orders: JSON.stringify(order),\r\n                    subTotal,\r\n                    total: state.orderTotal\r\n                },\r\n                state.token)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    socket.emit('newOrder', res.data)\r\n                    socket.disconnect();\r\n                })\r\n                .catch(err => console.log(err.response))\r\n\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-success', text: 'Order Processed Successfully' } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n                history.replace('/order-tracker')\r\n            }, 2000);\r\n            dispatch({ type: 'updateBasket', basket: {} })\r\n\r\n\r\n        } else {\r\n            dispatch({ type: 'notifier', display: { class: 'd-block', color: 'bg-danger', text: 'Your Balance is insufficient' } })\r\n            setTimeout(() => {\r\n                dispatch({ type: 'notifier', display: { class: 'd-none', color: '', text: '' } })\r\n            }, 2000);\r\n        }\r\n\r\n    }\r\n    const handleDelete = (e, id) => {\r\n        e.preventDefault();\r\n        let temp = state.basket;\r\n        delete temp[id]\r\n        dispatch({ type: 'updateBasket', basket: temp })\r\n\r\n    }\r\n    return (\r\n        <div className=\"revise__items__main d-flex flex-column justify-content-between\">\r\n            <div className=\"resvise__items__list\">\r\n                <h2>Items in Basket</h2>\r\n                {basket.map(item => <div key={item.id} className=\"card d-flex flex-row justify-content-between align-items-center p-2 m-1\">\r\n                    <p className=\"revised-item-width p-0 m-0\"><strong>{item.item_name}</strong> x {item.qty}</p>\r\n\r\n                    <p className=\"p-0 m-0\"><strong>$</strong>{item.qty * item.price} </p>\r\n                    <button className=\"btn btn-danger\" onClick={(e) => handleDelete(e, item.id)} type=\"submit\">Remove</button>\r\n\r\n                </div>)}\r\n\r\n            </div>\r\n            <div className=\"checkout__button\">\r\n                <p className=\"text-danger \"> **You may go back to edit quantities if required</p>\r\n                <button className=\"btn btn-success w-100\" type=\"submit\" onClick={e => handleSetOrders(e)}>Pay Now &nbsp;&nbsp;&nbsp;&nbsp;${state.orderTotal}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport { RiLogoutBoxRFill } from 'react-icons/ri'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function UserHeader({ state }) {\r\n    const history = useHistory()\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('conmmFete')\r\n        history.replace('/');\r\n\r\n    }\r\n    return (\r\n        <div className=\"header__main \">\r\n            <div className=\"d-flex justify-content-end header__flex__container\">\r\n                <div className=\"d-flex align-items-center justify-content-center\">\r\n                    <div className=\"d-flex align-items-center cursor-pointer\" onClick={() => history.push(`/user`)}>\r\n                        <FaUserCircle className=\"FaUserCircle\" />\r\n                        <p className=\"p-0 my-0 mx-2\"> {state.user_email} </p>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column p-1 align-items-center justify-content-center cursor-pointer\" onClick={handleLogout}>\r\n                        <RiLogoutBoxRFill className=\"FaUserCircle\" />\r\n                        <p className=\"py-1 m-0\">Logout</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport UserFooter from '../components/user/UserFooter';\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\nimport './Checkout.css'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport ResviseItems from '../components/checkout/ResviseItems';\r\nimport UserHeader from '../components/common/UserHeader';\r\nimport Notifier from '../components/Notifier';\r\n\r\nexport default function Checkout() {\r\n    const { dispatch, state } = useContext(AppContext);\r\n    const [myOrders, setMyOrders] = useState([])\r\n    let stopExec = false\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n        API.getThisUser(tempToken).then(res => {\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (state.user_email === \"\" || stopExec) {\r\n            return\r\n        }\r\n        if (state.role !== \"\" && state.role !== \"user\") {\r\n            history.replace(`/${state.role}`)\r\n        }\r\n        stopExec = true\r\n        const socket = socketIOClient();\r\n\r\n\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('userOrders', data => {\r\n            setMyOrders(data)\r\n        })\r\n\r\n        socket.on('activeOrders', data => {\r\n            setMyOrders(data)\r\n        })\r\n        socket.emit('newOrder', myOrders)\r\n        return () => {\r\n            socket.disconnect()\r\n        }\r\n    }, [state])\r\n\r\n    return (\r\n        <div className=\"container user__main\">\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Notifier />\r\n                <UserHeader state={state} />\r\n                <div className=\"flex__main__components\">\r\n                    <div className=\"pt-2 px-2 user__revise\">\r\n                        <ResviseItems props={{ state, dispatch, history, socketIOClient }} />\r\n\r\n                    </div>\r\n                    <div id=\"Order-now\" className=\"pt-4\">\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <UserFooter />\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport API from '../utils/API'\r\nimport AppContext from '../utils/AppContext'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Loading from './common/Loading'\r\nexport default function MyOrders() {\r\n    const [myOrders, setMyOrders] = useState([])\r\n    const [separators, setSeparators] = useState([])\r\n    const { state } = useContext(AppContext)\r\n    const [loading, setLoading] = useState(true)\r\n    let stopExec = false\r\n\r\n    useEffect(() => {\r\n        if (state.user_email === \"\" || stopExec) {\r\n            return\r\n        }\r\n        stopExec = true;\r\n        const socket = socketIOClient();\r\n        socket.emit(\"userId\", state.user_email)\r\n        socket.on('userOrders', data => {\r\n            setSeparators([...new Set(data.map(item => item.order_status !== 'received' ? item.order_custom_id : null).filter(el => el !== null))])\r\n            setMyOrders(data)\r\n            setLoading(false)\r\n        })\r\n\r\n        socket.on('activeOrders', data => {\r\n            setSeparators([...new Set(data.map(item => item.order_status !== 'received' ? item.order_custom_id : null).filter(el => el !== null))])\r\n            setMyOrders(data)\r\n        })\r\n        socket.emit('newOrder', myOrders)\r\n        return () => {\r\n            socket.disconnect()\r\n        }\r\n    }, [state])\r\n\r\n\r\n    return (\r\n        <>\r\n            <Loading loading={loading} />\r\n            <div className={`${loading && 'hazy'}`}>\r\n\r\n                <h3 className=\"text-center py-3\">Track Active Orders</h3>\r\n                <div className=\"d-flex flex-wrap justify-content-center\">\r\n\r\n\r\n                    {separators.map(separator => <div key={separator} className=\"card  myorder__items m-2 \">\r\n                        <div className=\"card-header bg-header\">\r\n                            <h4 className=\"text-center\">Order#<span className=\"text-danger\"> {separator} </span>- Shop: <span className=\"text-primary\">{{ ...{ ...myOrders.find(order => order.order_custom_id === separator) }.Shop }.name}</span></h4>\r\n                        </div>\r\n                        <div className={`card-body d-flex  justify-content-between myorder__items ${{ ...myOrders.find(order => order.order_custom_id === separator) }.order_status === 'paid' ? 'bg-paid' : 'bg-ready'}`}>\r\n                            <div>\r\n                                <h5 className=\"m-1 p-0\">Items</h5>\r\n                                {myOrders.filter(orders => orders.order_custom_id === separator)\r\n                                    .map(order => <div key={order.id}>\r\n                                        {<ul className=\"p-1 m-0 list-unstyled\">\r\n                                            <li ><>{order.Menu.item_name}x{order.item_qty}</></li>\r\n                                        </ul>}\r\n                                    </div>)}\r\n                            </div>\r\n                            <div>\r\n                                <h1>${{ ...myOrders.find(order => order.order_custom_id === separator) }.order_total}</h1>\r\n                                <h5>&#8226; {{ ...myOrders.find(order => order.order_custom_id === separator) }.order_status}</h5>\r\n                            </div>\r\n                        </div>\r\n                    </div>)}\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useContext, useEffect } from 'react'\r\nimport MyOrders from '../components/MyOrders'\r\nimport Notifier from '../components/Notifier'\r\n\r\nimport API from '../utils/API';\r\nimport AppContext from '../utils/AppContext';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\nimport UserFooter from '../components/user/UserFooter';\r\nimport UserHeader from '../components/common/UserHeader';\r\n\r\nexport default function OrderTracker() {\r\n    const history = useHistory()\r\n    const { dispatch, state } = useContext(AppContext);\r\n    useEffect(() => {\r\n\r\n\r\n        let tempToken = localStorage.getItem(\"conmmFete\")\r\n        if (tempToken === null) {\r\n            history.replace(`/`)\r\n            return\r\n        }\r\n\r\n        API.getThisUser(tempToken).then(res => {\r\n            if (res.data.role !== \"user\") {\r\n                return history.replace(`/${res.data.role}`)\r\n            }\r\n            dispatch({ type: 'update_token', token: res.data.token })\r\n            dispatch({ type: 'update_balance', balance: res.data.balance })\r\n            dispatch({ type: 'update_role', role: res.data.role })\r\n            dispatch({ type: 'update_email', email: res.data.email })\r\n\r\n        })\r\n            .catch(err => console.warn(err))\r\n\r\n    }, [])\r\n    return (\r\n        <div className=\"container user__main\">\r\n\r\n            <div className=\"d-flex flex-column main__flex__container \">\r\n                <Notifier />\r\n                <UserHeader state={state} />\r\n                <div className=\"flex__main__components\">\r\n                    <div className=\"pt-2 px-2\">\r\n                        <MyOrders />\r\n\r\n                    </div>\r\n                    <div id=\"Order-now\" className=\"pt-4\">\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <UserFooter />\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n","import React, { useReducer } from \"react\";\r\nimport Login from \"./components/Login\";\r\nimport AppContext from \"./utils/AppContext\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Admin from \"./pages/Admin\";\r\nimport User from \"./pages/User\";\r\nimport NotFound from \"./pages/NotFound\";\r\nimport Merchant from \"./pages/Merchant\";\r\nimport Checkout from \"./pages/Checkout\";\r\nimport OrderTracker from \"./pages/OrderTacker\";\r\n\r\n\r\n\r\nexport default function App() {\r\n\r\n\r\n\r\n  const initialState = { token: '', user_email: '', basket: {}, role: '', orderTotal: 0, balance: 0, refreshAPI: true, display: { class: 'd-none', color: '', text: '' } };\r\n  const [state, dispatch] = useReducer((state, action) => {\r\n    switch (action.type) {\r\n      case \"update_token\":\r\n        return { ...state, token: action.token }\r\n      case \"update_balance\":\r\n        return { ...state, balance: action.balance }\r\n      case \"update_role\":\r\n        return { ...state, role: action.role }\r\n      case \"update_email\":\r\n        return { ...state, user_email: action.email }\r\n      case \"update_orderTotal\":\r\n        return { ...state, orderTotal: action.orderTotal }\r\n      case \"refreshAPI\":\r\n        return { ...state, refreshAPI: action.refreshAPI }\r\n      case \"updateBasket\":\r\n        return { ...state, basket: action.basket }\r\n      case \"notifier\":\r\n        return { ...state, display: action.display }\r\n      default:\r\n        return state;\r\n    }\r\n  }, initialState);\r\n  return (\r\n    <AppContext.Provider value={{ state, dispatch }}>\r\n      <div className=\"App\">\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              <Login />\r\n            </Route>\r\n            <Route path=\"/admin\" >\r\n              <Admin />\r\n            </Route>\r\n            <Route path=\"/user\" >\r\n              <User />\r\n            </Route>\r\n            <Route path=\"/checkout\">\r\n              <Checkout />\r\n            </Route>\r\n            <Route path=\"/order-tracker\">\r\n              <OrderTracker />\r\n            </Route>\r\n            <Route path=\"/merchant\" >\r\n              <Merchant />\r\n            </Route>\r\n\r\n            <Route path=\"*\">\r\n              <NotFound />\r\n            </Route>\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n    </AppContext.Provider>\r\n  );\r\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}